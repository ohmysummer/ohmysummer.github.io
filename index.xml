<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Rakudo Perl 6</title>
    <link>https://ohmysummer.github.io/</link>
    <description>Recent content on Rakudo Perl 6</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 31 Jul 2019 20:22:08 +0800</lastBuildDate>
    
        <atom:link href="https://ohmysummer.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Parse with Perl6 Regexes and Grammars</title>
      <link>https://ohmysummer.github.io/post/2019-07-31-parse-with-perl6-regexes-and-grammars/</link>
      <pubDate>Wed, 31 Jul 2019 20:22:08 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-07-31-parse-with-perl6-regexes-and-grammars/</guid>
      <description>&lt;p&gt;å¯åŠ¨ç¿»è¯‘ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Encode-Decode</title>
      <link>https://ohmysummer.github.io/post/2019-07-16-encode-decode/</link>
      <pubDate>Tue, 16 Jul 2019 18:56:48 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-07-16-encode-decode/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://blogs.perl.org/users/damian_conway/2019/07/vigenere-vs-vigenere.html&#34;&gt;http://blogs.perl.org/users/damian_conway/2019/07/vigenere-vs-vigenere.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç¬¬&lt;a href=&#34;https://perlweeklychallenge.org/blog/perl-weekly-challenge-015/&#34;&gt;15 å±Š Perl æ¯å‘¨æŒ‘æˆ˜èµ›&lt;/a&gt;çš„ç¬¬äºŒé¡¹ä»»åŠ¡æ˜¯ä¸º &lt;em&gt;VigenÃ¨re Cipher&lt;/em&gt; å®ç°ç¼–ç å™¨å’Œè§£ç å™¨ã€‚ä½†è¿™æ¯”çœ‹èµ·æ¥è¦å¤æ‚å¾—å¤šï¼Œå› ä¸ºä»¥ Blaisede VigenÃ¨re å‘½åçš„å¯†ç å®é™…ä¸Šå¹¶ä¸æ˜¯ç”±ä»–å‘æ˜çš„ï¼Œè€Œ VigenÃ¨re å®é™…å‘æ˜çš„å¯†ç å¹¶ä¸æ˜¯ä»¥ä»–çš„åå­—å‘½åçš„ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å®ç° &lt;em&gt;VigenÃ¨re Cipher&lt;/em&gt; åŠ å¯†&amp;hellip;è¿˜æ˜¯ VigenÃ¨re åŠ å¯†ï¼Ÿä¸ºä»€ä¹ˆä¸ä¸¤ä¸ªéƒ½è¦å‘¢ï¼&lt;/p&gt;

&lt;p&gt;&lt;em&gt;VigenÃ¨re Cipher&lt;/em&gt; æ˜¯ç”±å‰å¥¥ä¸‡Â·å·´è’‚æ–¯å¡”Â·è´æ‹‰ç´¢äº 1553 å¹´åˆ¶å®šçš„ï¼Œç„¶åé”™è¯¯å½’å› åˆ°çº¦ä¸‰ç™¾å¹´åçš„ VigenÃ¨re èº«ä¸Šã€‚å®ƒä½¿ç”¨&lt;a href=&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Vigen%C3%A8re_square_shading.svg/800px-Vigen%C3%A8re_square_shading.svg.png&#34;&gt;&lt;em&gt;tabularÄ“cta&lt;/em&gt;&lt;/a&gt; æŠŠæ¶ˆæ¯æ–‡æœ¬è½¬æ¢ä¸ºå¯†æ–‡ï¼Œç„¶åå†è½¬å›å»ã€‚&lt;/p&gt;

&lt;p&gt;ç»™å®šç”¨æˆ·æä¾›çš„å¯†é’¥ï¼ˆ&lt;em&gt;ä¾‹å¦‚&lt;/em&gt; &amp;ldquo;BELLASO&amp;rdquo;ï¼‰ï¼Œæˆ‘ä»¬é€šè¿‡åŒ¹é…å¯†é’¥å’Œæ¶ˆæ¯çš„ç›¸åº”å­—æ¯æ¥åŠ å¯†æ¶ˆæ¯ï¼ˆ&lt;em&gt;ä¾‹å¦‚&lt;/em&gt; &lt;code&gt;&amp;quot;VIGENEREDIDNOTINVENTTHIS&amp;quot;&lt;/code&gt;ï¼‰ï¼Œç„¶åå°†å®ƒä»¬ç”¨ä½œä¸¤ä¸ªç´¢å¼•ä»¥åœ¨ &lt;em&gt;rÄ“cta&lt;/em&gt; è¡¨çš„é€‚å½“åˆ—å’Œè¡Œä¸­&lt;a href=&#34;https://s3-eu1.ixquick.com/cgi-bin/serveimage?url=http:%2F%2Fcrypto.interactive-maths.com%2Fuploads%2F1%2F1%2F3%2F4%2F11345755%2F2756220_orig.jpg&amp;amp;sp=66e4579b7c3e415cfddd9ad0ff0a31ca&#34;&gt;æŸ¥æ‰¾&lt;/a&gt;å¯¹åº”çš„å¯†ç å­—ç¬¦ã€‚å¦‚æœå¯†é’¥çŸ­äºæ¶ˆæ¯ï¼Œæˆ‘ä»¬åªéœ€æ ¹æ®éœ€è¦å¤šæ¬¡å¾ªç¯å¯†é’¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;        Key:  B E L L A S O B E L L A S O B E L L A S O B E L L A...
       Text:  V I G E N E R E D I D N O T I N V E N T T H I S
      Table:  â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“â†“ â†“ â†“
     Cipher:  W M R P N W F F H T O N G H J R G P N L H I M D
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¢å¥è¯è¯´ï¼Œ&lt;em&gt;tabularÄ“cta&lt;/em&gt; çš„æ¯ä¸€åˆ—æ˜¯å•ç‹¬çš„&lt;a href=&#34;https://en.wikipedia.org/wiki/Caesar_cipher&#34;&gt;&lt;em&gt;Caesar Cipher&lt;/em&gt;&lt;/a&gt; ï¼ˆæˆ–&lt;a href=&#34;https://en.wikipedia.org/wiki/ROT13&#34;&gt;&lt;em&gt;ROT-N&lt;/em&gt;&lt;/a&gt;è½¬å½•ï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªè¿ç»­çš„å¯†é’¥å­—æ¯é€‰æ‹©åœ¨æ¶ˆæ¯ä¸­çš„ç›¸åº”å­—æ¯ä¸Šæ‰§è¡Œå“ªä¸ªæ›¿æ¢ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ç§æ–¹æ³•åœ¨ 16 ä¸–çºªè¢«å¹¿æ³›è®¤ä¸ºæ˜¯*â€œéš¾ä»¥ç†è§£çš„â€*ï¼Œå°½ç®¡æŸ¥å°”æ–¯Â·å·´è´å¥‡åœ¨ 1854 å¹´â€œé‡æ–°å‘ç°â€çš„ä¸¤å‘¨å†…æ‰“ç ´äº†å®ƒçš„ä¸€ä¸ªä¾‹å­ï¼Œå¼—é‡Œå¾·é‡Œå¸ŒÂ·å¡åŸºæ–¯åŸºåœ¨ä¸åˆ°åå¹´ä¹‹åå‘è¡¨äº†å¯é çš„ä¸€èˆ¬æ”»å‡»ã€‚å°½ç®¡å¦‚æ­¤ï¼Œ&lt;em&gt;VigenÃ¨re Cipher&lt;/em&gt; æä¾›åˆç†çš„å®‰å…¨æ€§ï¼Œæä¾›çš„é€‰æ‹©çš„å…³é”®æ˜¯è¶³å¤Ÿé•¿çš„æ—¶é—´å’Œä¸åŒå¯»å¸¸ï¼Œè¶³ä»¥é˜²æ­¢ç®€å•çš„å­—å…¸æ”»å‡»ã€‚è®½åˆºçš„æ˜¯ï¼Œæˆ‘ä»¬ç¨åä¼šçœ‹åˆ°ï¼ŒVigenÃ¨reâ€™ çš„å®é™…å¯†ç ä¼˜é›…è§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†å®ç° *VigenÃ¨reCipher*ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ„å»ºä¸€ä¸ª *tabularÄ“cta*ã€‚åœ¨ Perl 6 ä¸­ï¼Œè¿™åªæ˜¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;constant @alphabet = [&#39;A&#39;...&#39;Z&#39;];

    constant @ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘-ğ‘Ÿğ‘’Ì„ğ‘ğ‘¡ğ‘
        = @alphabet, *.rotate ... *.head eq @alphabet.tail;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯¥è¡¨åªæ˜¯ä¸€ä¸ªæ•°ç»„åºåˆ—ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæ˜¯åŸå§‹å­—æ¯è¡¨ï¼Œå…¶ä½™çš„æ˜¯é€šè¿‡è·å–å‰ä¸€ä¸ªæ•°ç»„å¹¶å¾ªç¯æ—‹è½¬ä¸€ä¸ªå­—ç¬¦ï¼ˆ&lt;code&gt;*.rotate&lt;/code&gt;ï¼‰æ¥æ„é€ çš„ã€‚æ‰€ä»¥ &lt;code&gt;[&#39;A&#39;...&#39;Z&#39;]&lt;/code&gt; åé¢è·Ÿç€ &lt;code&gt;[&#39;B&#39;...&#39;Z&#39;, &#39;A&#39;]&lt;/code&gt;ï¼Œå…¶åä¾æ¬¡è·Ÿç€ &lt;code&gt;[&#39;C&#39;...&#39;Z&#39;, &#39;A&#39;...&#39;B&#39;]&lt;/code&gt;ã€‚æ¸…æ´—å¹¶é‡å¤ï¼Œç›´åˆ°æˆ‘ä»¬æœ€ç»ˆç”Ÿæˆä¸€ä¸ªæ—‹è½¬ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå­—æ¯ï¼ˆ&lt;code&gt;*.head&lt;/code&gt;ï¼‰æ˜¯åŸå§‹å­—æ¯è¡¨çš„æœ€åä¸€ä¸ªå­—æ¯ï¼ˆ&lt;code&gt;@alphabet.tail&lt;/code&gt;ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œ æˆ‘ä»¬ç”Ÿæˆæ¯ä¸ªè½®æ¢ç›´åˆ°è¾¾åˆ° &lt;code&gt;[&#39;Z&#39;, &#39;A&#39;...&#39;Y&#39;]&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ›¿æ¢ &lt;code&gt;@alphabet&lt;/code&gt; çš„å†…å®¹æ¥æ›´æ”¹æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„å­—æ¯è¡¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç”¨å¯†é’¥ &lt;code&gt;&amp;quot;Iâ¤ï¸Bellaso&amp;quot;&lt;/code&gt; ç¼–ç  &lt;code&gt;&amp;quot;VigenÃ¨re did NOT invent this!&amp;quot;&lt;/code&gt; é‚£æ ·çš„æ¶ˆæ¯ä¸€æ · ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åƒè¿™æ ·é‡æ–°é…ç½®å­—æ¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;    # Valid message characters are all printable Latin-1 + lurve...
    constant @alphabet = [&#39; &#39;...&#39;Ã¿&#39;, &#39;â¤ï¸&#39;];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Perl 6 æ˜¯ä¸€ç§ç°ä»£è¯­è¨€ï¼Œåœ¨æ•°æ®å’Œæºä»£ç ä¸­å†…ç½®æ”¯æŒå®Œæ•´çš„ Unicode å­—ç¬¦é›†ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥ä½¿ç”¨å¸¦è¡¨æƒ…ç¬¦å·çš„å­—ç¬¦ä¸² &lt;code&gt;&amp;quot;Iâ¤ï¸Bellaso&amp;quot;&lt;/code&gt;ï¼Œæˆ–è€…å£°æ˜åƒ &lt;code&gt;@ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘-ğ‘Ÿğ‘’Ì„ğ‘ğ‘¡ğ‘&lt;/code&gt; è¿™æ ·çš„å˜é‡ï¼Œå…¶åç§°åŒ…å«é‚£äº›å¥‡æ€ªçš„ &lt;a href=&#34;https://unicode-search.net/unicode-namesearch.pl?term=MATHEMATICAL%20ITALIC&#34;&gt;Unicode æ•°å­¦æ–œä½“&lt;/a&gt; å­—ç¬¦ç”šè‡³æ˜¯ç»„åˆçš„æ ‡è®°(Ä“vÄ“n Ä cÅmbÄ«nÄ«ng mÄrk)ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨æ–œä½“çš„ Unicode å˜é‡åç§°å¯èƒ½çœ‹èµ·æ¥å¾ˆç–¯ç‹‚ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬ä¸å†å—è‹±è¯­å›½å®¶è¯­è¨€å¸å›½ä¸»ä¹‰çš„é™åˆ¶ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„è¯­è¨€è‡ªç„¶åœ°å‘½åå®ƒï¼Œè€Œä¸æ˜¯è¢«è¿«å‘½åä¸€ä¸ªå…³é”®å˜é‡ &lt;code&gt;$cipher-text&lt;/code&gt;ã€‚&lt;code&gt;$texte-chiffrÃ©&lt;/code&gt; æˆ– &lt;code&gt;$Ø§Ù„Ù†Øµ-Ø§Ù„Ù…Ø´ÙØ±&lt;/code&gt; æˆ– &lt;code&gt;$åŠ å¯†æ–‡å­—&lt;/code&gt; æˆ– &lt;code&gt;$ÎšÏÏ…Ï€Ï„Î¿Î³ÏÎ±Ï†Î·Î¼Î­Î½Î¿-ÎºÎµÎ¯Î¼ÎµÎ½Î¿&lt;/code&gt; ç”šè‡³ &lt;code&gt;$Ä‰ifrita- teksto&lt;/code&gt;ã€‚ Perl 6 æ—¨åœ¨ä¸ºå…¨çƒ 100ï¼… çš„ç¨‹åºå‘˜æä¾›æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æˆ‘ä»¬çš„ &lt;code&gt;@ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘-ğ‘Ÿğ‘’Ì„ğ‘ğ‘¡ğ‘&lt;/code&gt; æ•°ç»„æ¥æŸ¥æ‰¾ç»™å®šæ–‡æœ¬/é”®å­—ç¬¦å¯¹çš„å¯†ç å­—ç¬¦ï¼Œä½†è¿™æ ·åšæœ‰ç‚¹ç¬¨æ‹™ã€‚æˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªå­—ç¬¦è½¬æ¢å›æ•´æ•° ASCII ç ï¼ˆé€šè¿‡å†…ç½®çš„ &lt;code&gt;.ord&lt;/code&gt; æ–¹æ³•ï¼‰ï¼Œç„¶åå°†å…¶å½’ä¸€åŒ–ä¸º 0..25 èŒƒå›´çš„è¡¨ç´¢å¼•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;    my $key-index   = $key-char.ord  - &#39;A&#39;.ord;
    my $text-index  = $text-char.ord - &#39;A&#39;.ord;

    my $cipher-char = @ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘-ğ‘Ÿğ‘’Ì„ğ‘ğ‘¡ğ‘[$key-index][$text-index];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬åé¢åˆ‡æ¢åˆ°åŒ…å« &lt;code&gt;&#39;â¤ï¸&#39;&lt;/code&gt; çš„éè¿ç»­å­—æ¯è¡¨ï¼Œé‚£ä¹ˆä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœ 2D æŸ¥æ‰¾è¡¨æ˜¯ 2D å­—å…¸ï¼ˆåœ¨ Perl 6 è¡Œè¯ï¼š*å“ˆå¸Œ*ï¼‰ä¸­ä¼šæ›´ç®€å•ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥ç”¨æˆ‘ä»¬å­—æ¯è¡¨ä¸­çš„å®é™…å­—ç¬¦ç´¢å¼•ï¼Œè€Œä¸æ˜¯ä»é›¶å¼€å§‹çš„æ•´æ•°ã€‚&lt;/p&gt;

&lt;p&gt;è¿™å¾ˆå®¹æ˜“å®‰æ’ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;    constant %encoder
        = @ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘-ğ‘Ÿğ‘’Ì„ğ‘ğ‘¡ğ‘.map:
             { @^cipher.head =&amp;gt; hash @alphabet Z=&amp;gt; @^cipher }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨è¿™é‡Œï¼Œå¯¹äº &lt;em&gt;tabula rÄ“cta&lt;/em&gt; ä¸­çš„æ¯ä¸ªå¯†ç è¡Œï¼ˆ&lt;code&gt;@^cipher&lt;/code&gt;ï¼‰ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªå“ˆå¸Œæ¡ç›®ï¼Œ å…¶é”®æ˜¯æ—‹è½¬å­—æ¯è¡¨çš„ç¬¬ä¸€ä¸ªå­—æ¯ï¼ˆ&lt;code&gt;@^cipher.head&lt;/code&gt;ï¼‰ï¼Œ å…¶å€¼æ˜¯åµŒå¥—çš„å“ˆå¸Œï¼Œå®ƒæ˜ å°„æ¯ä¸ªå­—æ¯çš„æ¯ä¸ªå­—æ¯ã€‚å­—æ¯åˆ°å¯†ç è¡Œä¸­çš„å¯¹åº”å­—æ¯ï¼ˆ&lt;code&gt;@alphabet Z=&amp;gt; @^cipher&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Z=&amp;gt;&lt;/code&gt; æ“ä½œè€…æ‹‰é“¾ä¸€èµ·ç›¸åº”çš„å®ƒçš„ä¸¤ä¸ªåˆ—è¡¨å…ƒç´  å‚æ•°ï¼Œæ¯ä¸¤ä¸ªä¼ é€’åˆ°ä¸€å¯¹çš„æ„é€ ï¼Œæ‰€ä»¥ æ“ä½œäº§ç”Ÿåƒæ•£åˆ—æ¡ç›®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;  # Key     Text-&amp;gt;Cipher, etc.

    &#39;M&#39; =&amp;gt; %(&#39;A&#39;=&amp;gt;&#39;M&#39;, &#39;B&#39;=&amp;gt;&#39;N&#39;, &#39;C&#39;=&amp;gt;&#39;O&#39; ... &#39;Y&#39;=&amp;gt;&#39;K&#39;, &#39;Z&#39;=&amp;gt;&#39;L&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰€ä»¥ç°åœ¨å½“æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾é€‚å½“çš„å¯†ç å­—ç¬¦æ—¶ï¼Œé¡¶çº§å“ˆå¸Œç´¢å¼•é€‰æ‹©é”®åˆ—ï¼Œè€Œç¬¬äºŒçº§å“ˆå¸Œç´¢å¼•é€‰æ‹©æ˜æ–‡å­—ç¬¦çš„è¡Œã€‚åƒè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;my $ciphertext-char = %encoder{$key-char}{$plaintext-char};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›´å¥½çš„æ˜¯ï¼Œä½¿ç”¨è¿™ç§åŸºäºæ•£åˆ—çš„æ–¹æ³•æ¥æ„å»º2D *è§£ç *å­—å…¸åŒæ ·ç®€å•ï¼Œåªéœ€å°†åµŒå¥—æ˜ å°„ä»å­—æ¯å­—ç¬¦åè½¬ä¸ºå¯†ç å­—ç¬¦å³å¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;constant %decoder
        = @ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘-ğ‘Ÿğ‘’Ì„ğ‘ğ‘¡ğ‘.map: 
            { @^cipher.head =&amp;gt; hash @^cipher Z=&amp;gt; @alphabet }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹‹åæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·è§£ç ä¸€ä¸ªåŠ å¯†çš„å­—ç¬¦ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;my $plaintext-char = %encoder{$key-char}{$ciphertext-char};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€æ—¦æˆ‘ä»¬æœ‰äº†è¿™ä¸¤ä¸ª2Dè¯å…¸ï¼Œ*VigenÃ¨reCipher*å°±å¾ˆå®¹æ˜“å®ç°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sub VigenÃ¨re (Str :$text!, Str :$key!, Bool :$decode --&amp;gt; Str) {

        # Extract lists of table indices from the two strings...
        my @textchars =  $text.comb;
        my @keychars  = |$key.comb xx âˆ;

        # Chose our trancoder...
        my %recoder = $decode ?? %decoder !! %encoder;

        # Pair up indices, transcode, and concatenate the results...
        (@keychars Z=&amp;gt; @textchars)
            .map({ %recoder{.key}{.value} // 0.chr })
            .join;
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å­ä¾‹ç¨‹é‡‡ç”¨ä¸¤ä¸ªå‘½åå­—ç¬¦ä¸²å‚æ•°ï¼šæ–‡æœ¬ï¼ˆæ˜æ–‡æˆ–åŠ å¯†ï¼‰å’ŒåŠ å¯†/è§£å¯†å¯†é’¥ã€‚è¯¥æ„Ÿå¹å·ä¸¤ä¸ªå‚æ•°åç§°åå‘Šè¯‰Perl 6çš„ç¼–è¯‘å™¨æ‰€éœ€è¦çš„ä¸¤ä¸ªå‚æ•°ã€‚è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„å‘½å booleanå‚æ•°ï¼ˆæ²¡æœ‰å°¾éšæ„Ÿå¹å·ï¼‰ï¼ŒæŒ‡ç¤ºæˆ‘ä»¬æ˜¯å¦è¦è§£ç ã€‚signature ï¼ˆï¼‰æœ«å°¾çš„é•¿ç®­å¤´æŒ‡å®šå­ä¾‹ç¨‹è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;code&gt;--&amp;gt; Str&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å­ä¾‹ç¨‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°†æ–‡æœ¬å­—ç¬¦ä¸²å’Œé”®åˆ†æˆå•ä¸ªå­—ç¬¦ï¼ˆå’Œï¼‰çš„åˆ—è¡¨ã€‚æˆ‘ä»¬è¿˜ éœ€è¦é‡å¤é”®å­—ç¬¦åºåˆ—ï¼Œä»¥ä¾¿é”®è‡³å°‘ ä¸æ–‡æœ¬å­—ç¬¦ä¸²ä¸€æ ·é•¿ã€‚æˆ‘ä»¬å¯ä»¥å‡†ç¡®åœ°è®¡ç®—å‡º éœ€è¦å¤šå°‘æ¬¡é‡å¤ï¼Œä½†æ˜¯åªéœ€è¦ ç»å¸¸æ— é™åœ°é‡å¤é”®ï¼ˆï¼‰å°±æ›´å®¹æ˜“äº†ã€‚ éœ€è¦åœ¨å¼€å¤´çš„å‚ç›´æ¡æ¥å±•å¹³å…³é”®å­—ç¬¦åˆ—è¡¨ã€‚å¦åˆ™ï¼Œ æˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªé‡å¤çš„é”®åˆ—è¡¨åˆ—è¡¨ï¼Œè€Œä¸æ˜¯é‡å¤çš„é”®å­—ç¬¦åˆ—è¡¨ ã€‚&lt;code&gt;$text.comb&lt;/code&gt;&lt;code&gt;$key.comb&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;|$key.comb xx âˆ
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬æ ¹æ®æˆ‘ä»¬æ˜¯å¦æ­£åœ¨è§£ç æ¥é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„ä¸¤ä¸ªç¼–ç å­—å…¸ä¸­çš„å“ªä¸€ä¸ªã€‚åœ¨Perl 6ä¸­ï¼Œä¸‰å…ƒé€‰æ‹©è¿ç®—ç¬¦æ˜¯&lt;code&gt;*çœŸå€¼*&lt;/code&gt;&lt;code&gt;*å‡å€¼*&lt;/code&gt;ï¼Œ è€Œä¸æ˜¯&lt;code&gt;*çœŸå€¼*&lt;/code&gt;&lt;code&gt;*å‡å€¼*&lt;/code&gt;ã€‚&lt;code&gt;*test* ??&lt;/code&gt;``` !!&lt;/p&gt;

&lt;p&gt;ä¸€æ—¦æˆ‘ä»¬å®Œæˆäº†æ‰€æœ‰è®¾ç½®ï¼Œå®é™…çš„ç¼–ç æˆ–è§£ç æ˜¯å¾®ä¸è¶³é“çš„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    (@keychars Z=&amp;gt; @textchars)
        .map({ %recoder{.key}{.value} // 0.chr })
        .join;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬é¦–å…ˆä»ä¸‹ä¸€ä¸ªæ–‡æœ¬çš„æ¯ä¸ªå­—ç¬¦åŒ¹é…çš„è¿ç»­å­—ç¬¦ä»é‡å¤é”®ï¼Œå†æ¬¡ä½¿ç”¨çš„*æ‹‰é“¾æˆ-A-åˆ—è¡¨ä¸­ï¼Œå¯¹*è¿è¥å•†ï¼ˆé—´ï¼‰ ä¸¤ä¸ªåˆ—è¡¨ï¼š&lt;code&gt;Z=&amp;gt;&lt;/code&gt;&lt;code&gt;(@keychars Z=&amp;gt; @textchars)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡æŸ¥æ‰¾æŸ¥æ‰¾è¡¨ä¸­çš„æ¯ä¸ªå…³é”®å­—ç¬¦ï¼ˆï¼‰å’Œæ¯ä¸ª å¯¹åº”çš„æ–‡æœ¬å­—ç¬¦ï¼ˆï¼‰ï¼Œå°†è¯¥å¯¹åˆ—è¡¨æ˜ å°„åˆ°åŠ å¯†/è§£å¯†å­—ç¬¦åˆ—è¡¨ã€‚å¦‚æœ å­—ç¬¦ç»„åˆæ²¡æœ‰å¯ç”¨çš„è½¬æ¢ï¼Œæˆ‘ä»¬åª ä½¿ç”¨ç©ºå­—ç¬¦ï¼ˆï¼‰ä½œä¸ºå ä½ç¬¦ã€‚è¿™å¯ç¡®ä¿ æŒ‡å®šå­—æ¯è¡¨å¤–çš„ä»»ä½•å­—ç¬¦éƒ½æ¸…æ™°åœ°æ˜ å°„ åˆ°åŠ å¯†å­—ç¬¦ä¸²ä¹‹å¤–ï¼Œè€Œä¸ä¼šå½±å“å…¶å°†æ¥çš„è§£å¯†ã€‚&lt;code&gt;.key&lt;/code&gt;&lt;code&gt;.value&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;è½¬æ¢å®Œæ‰€æœ‰å­—ç¬¦åï¼Œåªéœ€è¿æ¥åˆ—è¡¨ï¼ˆï¼‰å³å¯ç”Ÿæˆæœ€ç»ˆå­—ç¬¦ä¸²ã€‚&lt;code&gt;.join&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;è¿™å°±æ˜¯*VigenÃ¨reCipher*ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆVigenÃ¨reçš„å¯†ç å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸Šé¢è®¨è®ºçš„åŠ å¯†æŠ€æœ¯ä½œä¸ºå¯†ç å…·æœ‰ä¸€äº›ä¸¥é‡çš„ç¼ºç‚¹ã€‚1863å¹´ï¼ŒFriedrich Kasiskiè§‚å¯Ÿåˆ°é‡å¤å¯†é’¥å­—ç¬¦ä¸²ä»¥ç”Ÿæˆè¶³å¤Ÿé•¿çš„å¯†é’¥æ„å‘³ç€å•ä¸ªåŠ å¯†æ¶ˆæ¯æœ‰æ—¶å¯ä»¥é‡å¤ä½¿ç”¨*è¡¨æ ¼rÄ“cta*çš„ç›¸åŒåˆ—æ¥ç¼–ç ç¨ååœ¨åŸå§‹æ¶ˆæ¯ä¸­é‡ç°çš„ç›¸åŒåºåˆ—çš„æ˜æ–‡å­—ç¬¦ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æ‹¦æˆªä¸€ä¸ªåŠ å¯†çš„å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;LLGMMZWRGIIVATJVVBKRVMMZWRGIILLEDCIVATJVV
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;hellip;ç„¶åï¼Œç›¸å¯¹å®¹æ˜“å‘ç°ä¸¤ä¸ªåœ°æ–¹ï¼Œæ˜æ–‡æ¶ˆæ¯ä¸­çš„é‡å¤å•è¯æ˜¾ç„¶æ˜¯ä½¿ç”¨ç›¸åŒå…³é”®å­—ç¬¦çš„ä¸¤ä¸ªå•ç‹¬å‰¯æœ¬åŠ å¯†çš„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;LLGMMZWRGIIVATJVVBKRVMMZWRGIILLEDCIVATJVV

LLGMMZWRGIIVATJVVBKRVMMZWRGIILLEDCIVATJVV
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬ä¸€ä¸ªæ˜æ˜¾çš„å•è¯é‡å¤å‘ç”Ÿåœ¨18ä¸ªå­—ç¬¦ä¹‹é—´ï¼Œæ‰€ä»¥å¦‚æœè¿™ä¸¤ä¸ªå•è¯ä½¿ç”¨ç›¸åŒçš„å…³é”®å­—ç¬¦ç¼–ç ï¼Œåˆ™å¯†é’¥å¿…é¡»åœ¨18ä¸ªå­—ç¬¦åé‡å¤ã€‚è¿™æ„å‘³ç€å¯†é’¥é•¿åº¦å¿…é¡»æ˜¯18æˆ–æŸä¸ª18çš„æ•´æ•°å› å­ï¼ˆ&lt;em&gt;å³&lt;/em&gt; 9,6,3,2æˆ–1ï¼‰ã€‚ç¬¬äºŒæ¬¡é‡å¤å‘ç”Ÿé—´éš”24ä¸ªå­—ç¬¦ï¼Œå› æ­¤å¯†é’¥é•¿åº¦å¿…é¡»åŒæ—¶ä¸º24çš„æŸä¸ªå› å­ï¼ˆ&lt;em&gt;å³&lt;/em&gt; 12,8,6,4,3,2æˆ–1ï¼‰ã€‚ç”±äºåœ¨ä¸¤ç§æƒ…å†µä¸‹å®ƒéƒ½æ˜¯ç›¸åŒçš„å¯†é’¥ï¼Œå› æ­¤å¯†é’¥é•¿åº¦å¿…é¡»æ˜¯18å’Œ24 çš„*å…±åŒ*å› å­ï¼š6,3,2æˆ–1ã€‚&lt;/p&gt;

&lt;p&gt;è€ƒè™‘åˆ°è¿™äº›å¯èƒ½æ€§ï¼Œå…³é”®å­—å¾ˆå¯èƒ½æ˜¯6ä¸ªå­—ç¬¦é•¿ï¼Œå› ä¸ºä»å¿ƒç†ä¸Šè®²ï¼Œå…¶ä»–é•¿åº¦å¤ªçŸ­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°é€šè¿‡ä½¿ç”¨æ‰€æœ‰17706è‹±è¯­å…­å­—æ¯å•è¯å°è¯•å­—å…¸æ”»å‡»æ¥è§£ç æ¶ˆæ¯ã€‚&lt;/p&gt;

&lt;p&gt;è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“æœ€å¯èƒ½çš„å¯†é’¥é•¿åº¦æ˜¯ä»€ä¹ˆï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sub large-factors ($n) { set (4..$n).grep($n %% *) }

    my $gap
        = any keys [âˆ©] map {large-factors(.&amp;lt;gap&amp;gt;.chars)},
          $encoded ~~ m:ex/$&amp;lt;gap&amp;gt;=[ $&amp;lt;seq&amp;gt;=[. ** 3..*] .+] $&amp;lt;seq&amp;gt;/;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç©·å°½åœ°åŒ¹é…ï¼ˆï¼‰ç¼–ç æ–‡æœ¬ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œè¯¥æ­£åˆ™è¡¨è¾¾å¼ å®šä½ä¸‰ä¸ªæˆ–æ›´å¤šè¿ç»­å­—ç¬¦ ï¼ˆï¼‰çš„ä»»ä½•åºåˆ—ï¼Œç„¶åæ˜¯ç©ºæ ¼ï¼ˆï¼‰ï¼Œç„¶åæ˜¯å‰ä¸€ä¸ªå­—ç¬¦ åºåˆ—ï¼ˆï¼‰ã€‚ç„¶åæˆ‘ä»¬ç¡®å®šæ¯ä¸ªé—´éš™çš„é•¿åº¦ ï¼ˆï¼‰ï¼Œå»ºç«‹ä¸€ä¸ªé›†åˆæ¯ä¸ªé•¿åº¦ ï¼ˆï¼‰çš„é‡è¦å› å­ï¼Œå¹¶é‡‡å–è¿™äº› é›†åˆçš„äº¤é›†ï¼ˆï¼‰æ¥æ‰¾åˆ°å…±åŒçš„å› ç´ ã€‚æœ€åï¼Œæˆ‘ä»¬ ä½¿ç”¨ç»“ç‚¹å°†å¾—åˆ°çš„å…¬å…±å› å­é›†è½¬æ¢ä¸ºå•ä¸ªå€¼ã€‚ éšåï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿå°†å­—é•¿ä¸è¯¥ç»“ç›¸åŒ¹é…ï¼Œ ä»¥é€‰æ‹©é€‚å½“é•¿åº¦çš„æ½œåœ¨å…³é”®å­—ã€‚&lt;code&gt;m:ex&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ä¸€æ—¦æˆ‘ä»¬çŸ¥é“è§£å¯†å¯†é’¥æœ‰å¤šé•¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŠ è½½ä¸€ä¸ªåˆé€‚çš„å­—å…¸å¹¶è¿‡æ»¤å®ƒä»¥è·å¾—åˆé€‚çš„å€™é€‰å¯†é’¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;my @candidate-keys
        = &#39;/usr/share/dict/words&#39;.IO.lines.grep(*.chars==$gap)Â».uc;

    my @common-words
        = &#39;/usr/share/dict/common&#39;.IO.lines.grep(*.chars &amp;gt; 2)Â».uc;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬åªä¿ç•™é€‚å½“é•¿åº¦çš„å•è¯ï¼š æˆ‘ä»¬è¿˜åŠ è½½äº†ç¬¬äºŒä¸ªè¾ƒå°çš„å¸¸ç”¨å•è¯è¯å…¸ï¼Œæˆ‘ä»¬å°†ç”¨å®ƒ æ¥æ£€æµ‹åˆç†çš„è§£å¯†ã€‚&lt;code&gt;.grep(*.chars==$gap)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬ç”¨é€‚å½“é•¿åº¦çš„æ¯ä¸ªå¯èƒ½çš„å¯†é’¥è§£å¯†å¯†æ–‡ï¼Œå¹¶æ‰“å°å‡ºä»»ä½•ä¼¼ä¹åŒ…å«å¯ä¿¡æ•°é‡çš„è‹±æ–‡å•è¯çš„è§£å¯†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;# Request text to be deciphered...
    my $encoded = prompt &amp;quot;Ciphertext: &amp;quot;;

    # Try each potential key...
    for @candidate-keys -&amp;gt; $key {

        # Decrypt with that key...
        my $candidate = VigenÃ¨re( :text($encoded), :$key, :decode);

        # Count any real words found in the decryption...
        my $found = 0;
        for @common-words -&amp;gt; $word {

            # Report any plausible decryptions found...
            if $candidate.contains($word) &amp;amp;&amp;amp; ++$found &amp;gt; 3 {
                say &amp;quot;$key --&amp;gt; $candidate&amp;quot;;
                last;
            }
        }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ä¸åˆ°20ç§’çš„æ—¶é—´å†…äº§ç”Ÿï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Ciphertext: LLGMMZWRGIIVATJVVBKRVMMZWRGIILLEDCIVATJVV

HYDROA --&amp;gt; ENDVYZPTDRUVTVGEHBDTSVYZPTDRULEGALUVTVGEH
HYDROA --&amp;gt; ENDVYZPTDRUVTVGEHBDTSVYZPTDRULEGALUVTVGEH
HOGGIE --&amp;gt; EXAGEVPDACARTFDPNXDDPGEVPDACAHEQXWARTFDPN
SECRET --&amp;gt; THEVIGENERECIPHERISNTVIGENERESTABLECIPHER
STRICH --&amp;gt; TSPEKSEYPAGOIASNTUSYEEKSEYPAGETLMUGOIASNT
WAGGIE --&amp;gt; PLAGEVARACARETDPNXORPGEVARACAHPEXWARETDPN
WEDGIE --&amp;gt; PHDGEVANDCAREPGPNXONSGEVANDCAHPAAWAREPGPN
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œçš„æ ¹æœ¬é—®é¢˜ï¼ˆä¸è®¸å¤šå¯†ç æŠ€æœ¯ä¸€æ ·ï¼‰æ˜¯å¯†é’¥*å¤ªçŸ­*ã€‚æˆ‘ä»¬å¯ä»¥åšæŒè¦æ±‚ç”¨æˆ·æä¾›è‡³å°‘ä¸å®é™…æ¶ˆæ¯ä¸€æ ·é•¿çš„å¯†é’¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub VigenÃ¨re (
        Str  :$text!,
        Str  :$key! where { $key.chars &amp;gt;= $text.chars },
        Bool :$decode
        --&amp;gt; Str)
        {...}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶è€Œï¼Œåœ¨1586å¹´ï¼ŒBlaisedeVigenÃ¨reæ‰¾åˆ°äº†ä¸€ä¸ªæ›´å®¹æ˜“çš„è§£å†³æ–¹æ¡ˆï¼šæ‹¿å‡ºä»–ä»¬æä¾›çš„ä»»ä½•å¯†é’¥ï¼Œè€Œä¸æ˜¯ç”¨è‡ªå·±çš„é¢å¤–å‰¯æœ¬æ‰©å±•å®ƒï¼Œç”¨æ¶ˆæ¯çš„â€œéšæœºâ€å­—ç¬¦æ‰©å±•å¯†é’¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œè€Œä¸æ˜¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;       Key: SECRETSECRETSECRETSECRETSECRETSECRETSECRET...
      Text: THEVIGENERECIPHERISNTVIGENERESTABLECIPHER
     Table: â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“
    Cipher: LLGMMZWRGIIVATJVVBKRVMMZWRGIILLEDCIVATJVV
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;hellip;æˆ‘ä»¬ç”¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;       Key: SECRETTHEVIGENERECIPHERISNTVIGENERESTABLECIPHER
      Text: THEVIGENERECIPHERISNTVIGENERESTABLECIPHER
     Table: â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“
    Cipher: LLGMMZXUIMMIMCLVVKACAZZOWAXMMYXNFCIUBPIPV
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™åœ¨å¯†æ–‡ä¸­ä¸ä¼šäº§ç”Ÿæ˜æ˜¾çš„é‡å¤ï¼Œå› ä¸ºæ˜æ–‡ä¸­çš„é‡å¤å•è¯ä¸å†è¢«é‡å¤å•ä¸ªçŸ­é”®åŠ å¯†ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºä¸€ä¸ª&lt;a href=&#34;https://en.wikipedia.org/wiki/Autokey_cipher&#34;&gt;&lt;em&gt;è‡ªåŠ¨å¯†é’¥å¯†ç &lt;/em&gt;&lt;/a&gt;ï¼Œå› ä¸ºå®Œæ•´çš„å…³é”®æ˜¯å¯¹æˆ‘ä»¬äº§ç”Ÿä»æ¶ˆæ¯æœ¬èº«è‡ªåŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾æˆ‘ä»¬æƒ³æ‰©å±•æˆ‘ä»¬ä¹‹å‰çš„&lt;code&gt;VigenÃ¨re&lt;/code&gt;å­ç¨‹åºä»¥æä¾›è‡ªåŠ¨å¯†é’¥åŠ å¯†ã€‚æˆ‘ä»¬å¯èƒ½åªæ˜¯åœ¨ç­¾åä¸­æ·»åŠ å¦ä¸€ä¸ªå‚æ•°ï¼Œç„¶åæ ¹æ®å®é™…æä¾›çš„å‚æ•°é€‰æ‹©é€‚å½“çš„è¡Œä¸ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub VigenÃ¨re (
        Str :$text!,
        Str :$key,
        Str :$autokey,
        Bool :$decode
        --&amp;gt; Str
    ) {
        if    $autokey {...}
        elsif $key     {...}
        else           { fail &#39;Must specify :key or :autokey&#39; }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†æ˜¯Perl 6æ”¯æŒå¤šä¸ªè°ƒåº¦ï¼Œå› æ­¤æœ‰ä¸€ç§æ›´æ¸…æ™°çš„æ–¹æ³•å¯ä»¥å‘&lt;code&gt;VigenÃ¨re&lt;/code&gt;å­ä¾‹ç¨‹æ·»åŠ å¦ä¸€ä¸ªäº’æ–¥è¡Œä¸ºã€‚æˆ‘ä»¬ç®€å•åœ°å°†ç°æœ‰ä»£ç ä»a &lt;code&gt;sub&lt;/code&gt;æ›´æ”¹ä¸º&lt;code&gt;multi&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;p&gt;&lt;code&gt;**multi**&lt;/code&gt;&lt;code&gt;çš„V @ genere&lt;/code&gt;&lt;code&gt;(Str :$text!, Str :$key!, Bool :$decode --&amp;gt;Str)&lt;/code&gt;
&lt;code&gt;{&lt;/code&gt;
        &lt;em&gt;# Body exactly as before&lt;/em&gt;
&lt;code&gt;}&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬æ·»åŠ ç¬¬äºŒä¸ªmultiply dispatched *å˜ä½“*ï¼Œå¸¦æœ‰ä¸€ç»„ä¸åŒçš„å‚æ•°å’Œä¸€ä¸ªä¸åŒçš„ä¸»ä½“ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi VigenÃ¨re (Str :$text!, Str :$key!, Bool :$decode --&amp;gt; Str)
    {
        # Body exactly as before
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ­¤ç‰ˆæœ¬éœ€è¦å‚æ•°ï¼Œè€Œä¸æ˜¯å‚æ•°ã€‚ ç„¶åç«‹å³é‡æ–°åˆ†é…åˆ°åŸå§‹ï¼ˆBellasoï¼‰å˜ä½“ï¼Œå°†æ–‡æœ¬ ç›´æ¥ä¼ é€’ç»™æœªæ›´æ”¹çš„ï¼ˆï¼‰ï¼Œä½† é€šè¿‡å°†æä¾›çš„è‡ªåŠ¨é”®ä¸æ–‡æœ¬è¿æ¥æ¥æ„é€ æ–°çš„ï¼ˆéè‡ªåŠ¨ï¼‰é”®ï¼š&lt;code&gt;:autokey&lt;/code&gt;&lt;code&gt;:key&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi VigenÃ¨re (Str :$text!, Str :$autokey! --&amp;gt; Str) {
    VigenÃ¨re( :$text, :key($autokey ~ $text) );
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è§£é‡Šå™¨æ€»æ˜¯çŸ¥é“&lt;code&gt;VigenÃ¨reçš„&lt;/code&gt;å“ªä¸ªå˜ä½“åœ¨ä»»ä½•æ—¶å€™è°ƒç”¨ï¼Œå› ä¸ºå®ƒæ£€æŸ¥ä¼ é€’ç»™æ¯ä¸ªè°ƒç”¨çš„å®é™…å‚æ•°ï¼Œå¹¶ä¸”ä¸è€ƒè™‘ä»»ä½•å…¶å‚æ•°åˆ—è¡¨ä¸æ¥å—é‚£äº›ç‰¹å®šå‚æ•°çš„å˜ä½“ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œè§£é‡Šå™¨ å°†å§‹ç»ˆè°ƒç”¨åŸå§‹ï¼ˆBellasoï¼‰å˜ä½“ï¼Œè€Œå¦‚æœæˆ‘ä»¬ä¼ é€’ä¸€ä¸ª å‚æ•°ï¼Œåˆ™è§£é‡Šå™¨å°†å§‹ç»ˆè°ƒç”¨æˆ‘ä»¬çš„æ–°ï¼ˆVigenÃ¨reï¼‰å˜ä½“ã€‚&lt;code&gt;:key&lt;/code&gt;&lt;code&gt;:autokey&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–°çš„è‡ªåŠ¨å¯†é’¥å˜ç§&lt;code&gt;çš„V @ genere&lt;/code&gt;å­ç¨‹åºä¸å…è®¸ä¸€ä¸ªè¯´æ³•ã€‚è¿™æ˜¯å› ä¸ºï¼Œè™½ç„¶ä½¿ç”¨ è‡ªåŠ¨é”®å¯¹æ–‡æœ¬è¿›è¡Œç¼–ç åªæ˜¯Bellasoç®—æ³•çš„ä¸€ä¸ªå°å˜åŒ–ï¼Œ ä½†å†æ¬¡è§£ç å®ƒä¼šç¨å¾®å¤æ‚ä¸€äº›ã€‚&lt;code&gt;:decode&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;è¦è§£ç å·²è‡ªåŠ¨åŠ å¯†çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬æ˜¾ç„¶éœ€è¦åŸå§‹åŠ å¯†å¯†é’¥ã€‚ä½†æ˜¯åœ¨è‡ªåŠ¨é”®ç³»ç»Ÿä¸­ï¼Œå¤§éƒ¨åˆ†é”®éƒ½æ˜¯ç”±åŸå§‹æœªåŠ å¯†çš„æ–‡æœ¬æä¾›çš„ã€‚å› æ­¤ï¼Œä¸ºäº†å–å›æœªåŠ å¯†çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬å¿…é¡»å‘è§£ç å™¨æä¾›&amp;hellip;&amp;hellip;æœªåŠ å¯†çš„æ–‡æœ¬ã€‚Hmmmmmã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œé™¤äº†è‡ªåŠ¨é”®çš„æœ€åˆå‡ ä¸ªå­—ç¬¦ä¸æ˜¯åŸå§‹æ˜æ–‡çš„ä¸€éƒ¨åˆ†; ä»–ä»¬æ˜¯ä»…æœ‰çš„äººç‰©ç»å¸¸é”®ï¼ˆ&lt;em&gt;ä¾‹å¦‚&lt;/em&gt; &lt;code&gt;&amp;quot;BELLASO&amp;quot;&lt;/code&gt;ï¼Œ&lt;code&gt;&amp;quot;SECRET&amp;quot;&lt;/code&gt;ï¼Œ*ç­‰*æŒ‡å®šäº†ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;é‰´äºæ­¤éƒ¨åˆ†å¯†é’¥ï¼Œæˆ‘ä»¬è‡³å°‘å¯ä»¥è§£å¯†åŠ å¯†æ–‡æœ¬çš„è®¸å¤šåˆå§‹å­—ç¬¦ã€‚è¿™ç»™æˆ‘ä»¬çš„å‰å‡ ä¸ªå­—ç¬¦çš„åŸå§‹é‚®ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç«‹å³ä½¿ç”¨è¿™äº›å­—ç¬¦ä½œä¸ºå…³é”®çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè§£å¯†å¤šä¸€ç‚¹çš„åŠ å¯†æ–‡æœ¬ï¼Œä»è€Œç»™æˆ‘ä»¬ä¸€äº›æ›´å¤šçš„ä¿¡æ¯å­—ç¬¦ï¼Œè¿™ç»™æˆ‘ä»¬ä¸€äº›é¢å¤–çš„å…³é”®å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»¬æå–å‡ ä¸ªæ˜æ–‡å­—ç¬¦ï¼Œ*ç­‰ç­‰ç­‰ç­‰*ï¼Œç›´åˆ°æ•´ä¸ªæ–‡æœ¬è¢«è§£ç ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨Perl 6ä¸­ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;    multi VigenÃ¨re (Str :$text!, Str :$autokey!, :$decode! --&amp;gt; Str)
    {
        # Break out text that was enciphered by the original key...
        my ($cipherkey, $ciphertext)
            = $text.split: /&amp;lt;?at: $autokey.chars&amp;gt;/;

        # Decipher that key-enciphered initial text...
        my @autokey
            = VigenÃ¨re( :text($cipherkey), :key($autokey), :decode )
                 .comb;

        # Progressively decipher the rest...
        [~] flat gather for $ciphertext.comb {
            FIRST take @autokey;
            @autokey.push:
               take %decoder{@autokey.shift}{$^cipherchar} // 0.chr;
        }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;VigenÃ¨remultiisubçš„&lt;/code&gt;ç¬¬ä¸‰ä¸ªå˜ä½“éœ€è¦ä¸‰ä¸ªå¿…éœ€çš„å‚æ•°ï¼šæ–‡æœ¬ï¼ŒåŸå§‹è‡ªåŠ¨é”®å’Œæ ‡å¿—ã€‚æ‰€ä»¥è¿™ä¸ªå˜ä½“ å°†*ä»…*è§£ç è‡ªåŠ¨å¯†é’¥åŠ å¯†æ—¶è¢«è°ƒç”¨ã€‚&lt;code&gt;:decode&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬é¦–å…ˆéœ€è¦å°†æ–‡æœ¬åˆ†æˆä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š ä½¿ç”¨åŸå§‹å¯†é’¥ï¼ˆï¼‰åŠ å¯†çš„åˆå§‹*Nä¸ª*å­—ç¬¦ï¼Œä»¥åŠ ä½¿ç”¨æœªåŠ å¯†çš„ æ¶ˆæ¯æœ¬èº«ï¼ˆï¼‰åŠ å¯†çš„æ–‡æœ¬çš„å…¶ä½™éƒ¨åˆ†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è°ƒç”¨æ–‡æœ¬å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™æ­£åˆ™è¡¨è¾¾å¼ã€‚ åœ¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„åœ°æ–¹ï¼Œæ–‡æœ¬å°†è¢«æ‹†åˆ†ï¼Œå› æ­¤æˆ‘ä»¬åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ–­è¨€ï¼Œå¼ºåˆ¶å®ƒä»…åŒ¹é…åŸå§‹é”®çš„é•¿åº¦ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;/&amp;lt;?at: $autokey.chars&amp;gt;/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€æ—¦æˆ‘ä»¬æœ‰äº†å‰*Nä¸ª*å­—ç¬¦&lt;code&gt;$cipherkey&lt;/code&gt;ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨åŸå§‹ ï¼ˆBellasoï¼‰è§£ç å˜ä½“ç®€å•åœ°ç”¨åŸå§‹å¯†é’¥ï¼ˆin &lt;code&gt;$autokey&lt;/code&gt;ï¼‰è§£å¯†å®ƒä»¬ï¼Œæˆ‘ä»¬é€šè¿‡å°†åŸå§‹å¯†é’¥ä½œä¸ºå‚æ•°ä¼ é€’è€Œä¸æ˜¯ä½œä¸ºå‚æ•°æ¥è°ƒç”¨ã€‚åƒè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;VigenÃ¨re( :text($cipherkey), :key($autokey), :decode )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬ä½¿ç”¨è¯¥æ–¹æ³•å°†è§£å¯†çš„æ˜æ–‡ è½¬æ¢ä¸ºæˆ‘ä»¬å­˜å‚¨çš„å­—ç¬¦åˆ—è¡¨ã€‚&lt;code&gt;.comb&lt;/code&gt;&lt;code&gt;@autokey&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»è§£å¯†äº†æ˜æ–‡çš„å‰*Nä¸ª*å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹éå†å‰©ä½™åŠ å¯†æ–‡æœ¬ï¼ˆï¼‰ä¸­çš„å­—ç¬¦åˆ—è¡¨ï¼Œä½¿ç”¨ä¸‹ä¸€ä¸ª å·²çŸ¥çš„è‡ªåŠ¨é”®å­—ç¬¦ï¼ˆï¼‰æ¥è§£å¯†ä¸‹ä¸€ä¸ª æ¶ˆæ¯å­—ç¬¦ï¼ˆï¼‰ã€‚ ç„¶åä¿å­˜æ–°è§£ç çš„å­—ç¬¦ä»¥ç”¨ä½œåç»­çš„ è‡ªåŠ¨é”®å­—ç¬¦ï¼ˆï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å½“æˆ‘ä»¬è§£å¯†æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ•è·æ¯ä¸ªè§£ç çš„å­—ç¬¦ï¼Œå› æ­¤æˆ‘ä»¬æœ€ç»ˆå¯ä»¥è¿æ¥å¹¶å°†å®ƒä»¬ä½œä¸ºè§£å¯†æ–‡æœ¬è¿”å›ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª&lt;code&gt;gather&lt;/code&gt;å—ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨è®°ä½æˆ‘ä»¬&lt;code&gt;take&lt;/code&gt;åœ¨å…¶ä¸­çš„ä»»ä½•å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é¦–å…ˆå¿…é¡»æ”¶é›†ç”¨åŸå§‹å¯†é’¥è§£å¯†ç„¶åå­˜å‚¨çš„æ‰€æœ‰åˆå§‹å­—ç¬¦&lt;code&gt;@autokey&lt;/code&gt;ã€‚æ‰€ä»¥æˆ‘ä»¬è®²çš„&lt;code&gt;for&lt;/code&gt;ç¯è·¯&lt;code&gt;take&lt;/code&gt;ä»–ä»¬ï¼Œä½†ä»…åœ¨å…¶ç¬¬ä¸€ä¸ªè¿­ä»£ï¼š&lt;/p&gt;

&lt;p&gt;ç„¶åæ¯æ¬¡æˆ‘ä»¬è§£å¯†å¾ªç¯ä¸­çš„å¦ä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¿…é¡»&lt;code&gt;take&lt;/code&gt;è¿™æ ·åšï¼Œå°±åœ¨æˆ‘ä»¬å°†å®ƒæ¨å…¥&lt;code&gt;@autokey&lt;/code&gt;æ•°ç»„ä¹‹å‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@autokey.push:
        take %decoder{@autokey.shift}{$^cipherchar} // 0.chr;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€æ—¦è§£å¯†&lt;code&gt;for&lt;/code&gt;å¾ªç¯ç»ˆæ­¢ï¼Œ&lt;code&gt;gather&lt;/code&gt;å®ƒå°†è¿”å›æˆ‘ä»¬ä¼ é€’ç»™çš„æ‰€æœ‰å†…å®¹çš„åˆ—è¡¨&lt;code&gt;take&lt;/code&gt;ã€‚æˆ‘ä»¬å°†è¿™äº›å­—ç¬¦ï¼ˆï¼‰è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²&amp;hellip;&amp;hellip;æˆ‘ä»¬å°±å®Œæˆäº†ã€‚&lt;code&gt;[~] flat&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ç°åœ¨ï¼Œå½“æˆ‘ä»¬æƒ³è¦*VigenÃ¨reCipheræ—¶*ï¼Œæˆ‘ä»¬å†™é“ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;   $ciphertext
      = VigenÃ¨re( :text($plaintext), :key($secret) );

    # and later...

    $plaintext
      = VigenÃ¨re( :text($ciphertext), :key($secret), :decode );

And when we want VigenÃ¨reâ€™s actual cipher, we write:

    $ciphertext
      = VigenÃ¨re( :text($plaintext), :autokey($secret) );

    # and later...

    $plaintext
      = VigenÃ¨re( :text($ciphertext), :autokey($secret), :decode );
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å½“æˆ‘ä»¬æƒ³è¦VigenÃ¨reçš„*å®é™…*å¯†ç æ—¶ï¼Œæˆ‘ä»¬å†™é“ï¼š&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ æ¥å—ç°ä»£&lt;a href=&#34;https://en.wikipedia.org/wiki/Linguistic_relativity#Renewed_examination&#34;&gt;è¯­è¨€ç›¸å¯¹è®º&lt;/a&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºçš„è¯­è¨€å¯ä»¥å¡‘é€ æˆ‘ä»¬æ€è€ƒçš„æ–¹å¼ã€‚ä¹Ÿè®¸ç”šè‡³é™åˆ¶åœ¨æˆ‘ä»¬çš„æ–¹å¼*å¯ä»¥*è€ƒè™‘ã€‚&lt;/p&gt;

&lt;p&gt;ç¼–ç¨‹è¯­è¨€æ˜¯ç¨‹åºå‘˜æ€è€ƒè§£å†³æ–¹æ¡ˆçš„å·¥å…·ã€‚æ‰€ä»¥ï¼Œä½ çš„ç¼–ç¨‹è¯­è¨€çš„é€‰æ‹©ï¼Œå¯ä»¥å¡‘é€ ä½ æ˜¯æ€ä¹ˆæƒ³çš„è§£å†³æ–¹æ¡ˆï¼Œç”šè‡³å¯èƒ½é™åˆ¶å®ƒæ˜¯å¦‚ä½•*å¯èƒ½*çš„ï¼Œä½ æƒ³æƒ³ä»–ä»¬ã€‚&lt;/p&gt;

&lt;p&gt;å½“ä½ åœ¨æ€è€ƒä¸–ç•Œä¸Šçš„è§£å†³æ–¹æ¡ˆæ—¶ï¼Œè¯­è¨€æ¨¡ç³Šï¼Œè®¡ç®—å¤æ‚ï¼Œå¦‚VigenÃ¨reï¼ˆæˆ–æˆ‘ä»¬çš„ï¼ï¼‰ï¼Œä½ éœ€è¦ä¸€ç§è¯­è¨€è¶³å¤Ÿå¤æ‚ï¼Œè®¡ç®—æœºè¡¨è¾¾èƒ½åŠ›å¼ºçš„è¯­è¨€ï¼Œä½¿ä½ èƒ½å¤Ÿæ¸…æ™°æœ‰æ•ˆåœ°æ€è€ƒã€‚&lt;/p&gt;

&lt;p&gt;è¿™å°±æ˜¯æˆ‘åœ¨Perl 6ä¸­ç¼–ç¨‹çš„åŸå› ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„ å¥‡å¶æ’åº</title>
      <link>https://ohmysummer.github.io/post/2019-06-29-odd-even-sort-in-perl6/</link>
      <pubDate>Sat, 29 Jun 2019 19:37:39 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-29-odd-even-sort-in-perl6/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„ç…é¥¼æ’åº</title>
      <link>https://ohmysummer.github.io/post/2019-06-27-pancake-sort-in-perl6/</link>
      <pubDate>Sat, 29 Jun 2019 19:36:02 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-27-pancake-sort-in-perl6/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„ Gnome sort</title>
      <link>https://ohmysummer.github.io/post/2019-06-28-gnome-sort-in-perl6/</link>
      <pubDate>Fri, 28 Jun 2019 19:37:18 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-28-gnome-sort-in-perl6/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„ Stooge Sort</title>
      <link>https://ohmysummer.github.io/post/2019-06-26-stooge-sort-in-perl6/</link>
      <pubDate>Wed, 26 Jun 2019 19:35:43 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-26-stooge-sort-in-perl6/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„åˆå¹¶æ’åº</title>
      <link>https://ohmysummer.github.io/post/2019-06-25-merge-sort-in-perl6/</link>
      <pubDate>Tue, 25 Jun 2019 19:35:08 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-25-merge-sort-in-perl6/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„æ’å…¥æ’åº</title>
      <link>https://ohmysummer.github.io/post/2019-06-24-insertion-sort-in-perl6/</link>
      <pubDate>Mon, 24 Jun 2019 19:19:06 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-24-insertion-sort-in-perl6/</guid>
      <description>&lt;p&gt;ä»Šå¤©ï¼Œæˆ‘ä»¬ç ”ç©¶æ’å…¥æ’åºç®—æ³•åŠå…¶åœ¨ Perl 6 ä¸­çš„å¯èƒ½å®ç°ã€‚ç®—æ³•çš„å¤æ‚æ€§æ˜¯ O(n2)ï¼Œä½†å®ƒæ˜¯ç»ƒä¹  Perl 6 çš„ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•ã€‚æ‚¨å¯ä»¥åœ¨æ•°ç»„ä¸­æ‰¾åˆ°æœ€å°å€¼å¹¶å°†å…¶æ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ã€‚ç„¶åä»ç¬¬äºŒä¸ªä½ç½®å¼€å§‹æ‰«ææ•°æ®ï¼ˆå› ä¸ºç¬¬ä¸€ä¸ªä½ç½®å·²ç»è¢«æœ€ä½å…ƒç´ å ç”¨ï¼‰ã€‚ç„¶åä½ å‘å³èµ°ï¼Œæ‰¾åˆ°æœ€å°å€¼å¹¶å°†å®ƒä»¬æ”¾åˆ°å½“å‰ä½ç½®ç›´åˆ°ä½ åˆ°è¾¾ç»ˆç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;å®ƒç±»ä¼¼äºé€‰æ‹©æ’åºï¼Œä½†ä¸æ˜¯äº¤æ¢ä¸¤ä¸ªå…ƒç´ ï¼Œè€Œæ˜¯æ’å…¥ä¸€ä¸ªï¼ˆå› æ­¤ï¼Œç§»åŠ¨å…¶ä»–å…ƒç´ ï¼‰ã€‚è®©æˆ‘ä»¬ä»ç®€å•çš„æ–¹æ³•å’Œä¸¤ä¸ªåµŒå¥—å¾ªç¯å¼€å§‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub insertion-sort(@data) {
    for ^@data -&amp;gt; $i {
        for ^$i -&amp;gt; $j {
            if @data[$i] &amp;lt; @data[$j] {
                @data.splice($j, 0, @data[$i]);
                @data.splice($i + 1, 1);
            }
        }
    }
}

my @data = 4, 5, 7, 1, 46, 78, 2, 2, 1, 9, 10;
insertion-sort @data;
say @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨Perl 6ä¸­ï¼Œæ•°ç»„çš„æ‹¼æ¥æ–¹æ³•å¯ä»¥å®Œæˆä¸¤ä¸ªä»»åŠ¡ï¼šç”¨å¦ä¸€ä¸ªå…ƒç´ åˆ—è¡¨æ›¿æ¢æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…åªæ˜¯åˆ é™¤å…ƒç´ æˆ–ä¸€è¡Œä¸­çš„ä¸€äº›å…ƒç´ ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½¿ç”¨äº†è¯¥æ–¹æ³•çš„ä¸¤ä¸ªåº”ç”¨ç¨‹åºã€‚é¦–å…ˆï¼Œå°†æ–°æ‰¾åˆ°çš„å…ƒç´ æ’å…¥å½“å‰ä½ç½®ã€‚å…¶æ¬¡ï¼Œå®ƒä»ä¹‹å‰çš„ä½ç½®åˆ é™¤ï¼ˆæ•°ç»„åˆšåˆšå¢é•¿ï¼Œå› æ­¤ç´¢å¼•å˜ä¸º$ i + 1ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºspliceæ–¹æ³•ä¹Ÿè¿”å›å·²åˆ é™¤çš„å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬äºŒä¸ªè°ƒç”¨æ”¾åˆ°æ­£åœ¨è¯»å–å…ƒç´ çš„ä½ç½®ï¼š@data [$ i]ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹åµŒå¥—è°ƒç”¨æ›¿æ¢è¿™ä¸¤è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@data.splice($j, 0, @data.splice($i, 1))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯·æ³¨æ„ï¼Œç´¢å¼•ç°åœ¨åªæ˜¯$ iï¼Œå› ä¸ºæ•°ç»„å°šæœªä¿®æ”¹ã€‚&lt;/p&gt;

&lt;p&gt;æ‚¨åº”è¯¥å·²ç»ç†Ÿæ‚‰äº†ç¬¬äºŒä¸ªå¯èƒ½çš„æŠ€å·§ï¼šå¦‚æœå‡ºç°ä»¥ä¸‹æƒ…å†µï¼Œè¯·ä½¿ç”¨ &lt;code&gt;if&lt;/code&gt; åç¼€ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub insertion-sort(@data) {
    for ^@data -&amp;gt; $i {
        for ^$i -&amp;gt; $j {
            @data.splice($j, 0, @data.splice($i, 1)) 
                if @data[$i] &amp;lt; @data[$j];
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ å¯ä»¥åœ¨è¿™ä¸€ç‚¹ä¸Šåœä¸‹æ¥ï¼Œä½†æˆ‘å¸Œæœ›ä½ è¿˜ä¸æ»¡æ„ã€‚è‡³å°‘ï¼Œä¸¤ä¸ªåµŒå¥—çš„forsä¼¼ä¹æ˜¯è¿›ä¸€æ­¥æ€è€ƒçš„å¥½é¢†åŸŸã€‚&lt;/p&gt;

&lt;p&gt;ä¸å¹¸çš„æ˜¯ï¼Œä¸å¯èƒ½ç›´æ¥ä½¿ç”¨äº¤å‰è¿ç®—ç¬¦æ¥è·å¾—ç±»ä¼¼^ @ data X ^ @ dataçš„ä¸œè¥¿ï¼Œå› ä¸ºç¬¬äºŒä¸ªåˆ—è¡¨ä¾èµ–äºç¬¬ä¸€ä¸ªåˆ—è¡¨ï¼Œä½†æ˜¯æœ‰ä¸€ç§å®Œå…¨ä¸åŒçš„ç®€åŒ–ä»£ç çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å†…éƒ¨forå¾ªç¯çš„ä¸»è¦ç›®æ ‡æ˜¯æ‰¾åˆ°æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªæœ€å°å…ƒç´ ã€‚ Perl 6ä¸ºæˆ‘ä»¬æä¾›äº†ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå®ƒå°±æ˜¯è¿™æ ·åšçš„ã€‚&lt;/p&gt;

&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè¿”å›å…ƒç´ ï¼Œä½†æˆ‘ä»¬éœ€è¦å®ƒçš„ç´¢å¼•ã€‚æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ ï¼škå‘½åå‚æ•°æ¥å®ç°&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@data.first(* &amp;gt;= @data[$_], :k)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è£¸ï¼škç›¸å½“äºå°†å‚æ•°è®¾ç½®ä¸ºTrue :: kï¼ˆTrueï¼‰æˆ–k =&amp;gt; Trueã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub insertion-sort(@data) {
    for ^@data -&amp;gt; $i {
        @data.splice(
            @data.first(* &amp;gt;= @data[$i], :k), 
            0,
            @data.splice($i, 1)
        )
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åï¼Œè®©å‰©ä¸‹çš„forå¾ªç¯æˆä¸ºä¸€ä¸ªpostfixå­å¥ï¼Œå¹¶ä¸”ä½ å®Œæˆäº†ä¸€ä¸ªå¾ˆå¥½çš„å•è¡Œå‡½æ•°ï¼ˆè¿™é‡Œæ˜¾ç¤ºåœ¨ä¸åŒçš„è¡Œä¸Šåˆ†æˆè¾ƒçŸ­çš„éƒ¨åˆ†ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub insertion-sort(@data) {
    @data.splice(
        @data.first(* &amp;gt;= @data[$_], :k), 
        0,
        @data.splice($_, 1)
    ) for ^@data;
}

my @data = 4, 5, 7, 1, 46, 78, 2, 2, 1, 9, 10;
insertion-sort @data;
say @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸€åˆ‡éƒ½æ˜¯ç°åœ¨ï¼Œä½†å¦‚æœä½ å‘ç°å¯ä»¥æ”¹è¿›çš„ä¸œè¥¿ï¼Œè¯·åœ¨ä¸‹é¢çš„è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä»¬ã€‚&lt;a href=&#34;https://github.com/ash/perl6-algorithms/blob/master/sort/insertion-sort-3.pl6&#34;&gt;æºä»£ç &lt;/a&gt;å¯åœ¨GitHubä¸Šè·å¾—ã€‚&lt;/p&gt;

&lt;p&gt;åŸæ–‡ï¼š&lt;a href=&#34;https://perl6.online/2019/06/24/102-insertion-sort-in-perl-6/&#34;&gt;https://perl6.online/2019/06/24/102-insertion-sort-in-perl-6/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„å¿«é€Ÿæ’åº</title>
      <link>https://ohmysummer.github.io/post/2019-06-23-quick-sort-in-perl6/</link>
      <pubDate>Sun, 23 Jun 2019 19:16:15 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-23-quick-sort-in-perl6/</guid>
      <description>&lt;p&gt;ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦ä¸€ä¸ªï¼Œä¹Ÿè®¸æ˜¯æœ€ç€åçš„æ•°æ®æ’åºæ–¹æ³•ï¼Œå¿«é€Ÿæ’åºã€‚&lt;/p&gt;

&lt;p&gt;è¯¥ç®—æ³•è¦æ±‚æ‚¨é€‰æ‹©æ‰€è°“çš„æ¢è½´ï¼Œå…¶ä¸­ä¸€ä¸ªå…ƒç´ æ¥è‡ªæ•°æ®ï¼Œå¹¶å°†å…¶ä½™éƒ¨åˆ†åˆ†æˆä¸¤éƒ¨åˆ†ï¼šå°äºæ¢è½´çš„å…ƒç´ ï¼Œä»¥åŠå¤§äºæˆ–ç­‰äºæ¢è½´çš„å…ƒç´ ã€‚ç„¶åå†æ¬¡é€’å½’åœ°å¯¹æ¯ä¸ªéƒ¨åˆ†è¿›è¡Œæ’åºã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œéƒ¨ä»¶å˜å¾—è¶Šæ¥è¶Šå°ï¼Œç›´åˆ°å­åˆ—è¡¨æ˜¯ä¸€ä¸ªæˆ–ç”šè‡³é›¶ä¸ªå…ƒç´ çš„å¹³å‡¡æ•°æ®é›†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªå•ç‹¬çš„ç†è®ºæ˜¯å¦‚ä½•é€‰æ‹©æ­£ç¡®çš„æ¢è½´ã€‚æœ‰å‡ ç§æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œä»åˆ—è¡¨ä¸­é—´å–å€¼ï¼Œæˆ–å–ç¬¬ä¸€é¡¹ï¼Œæˆ–æœ€åä¸€é¡¹ï¼Œæˆ–éšæœºé¡¹ã€‚è¿˜æœ‰æ›´å¤æ‚çš„æ–¹æ³•ï¼Œæ‚¨å¯ä»¥è°ƒæ•´å®ƒä»¥åœ¨æ‚¨çš„æ•°æ®é›†ç±»å‹ä¸Šå®ç°æœ€ä½³æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºç®€å•èµ·è§ï¼Œè®©æˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºè½´ç‚¹ï¼Œè¿™æ˜¯ä»£ç &lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub quick-sort(@data) {    
    return @data if @data.elems &amp;lt;= 1;

    my $pivot = @data[0];

    my @left;
    my @right;

    for @data[1..*] -&amp;gt; $x {
        if $x &amp;lt; $pivot {
            push @left, $x;
        }
        else {
            push @right, $x;
        }
    }

    return flat(quick-sort(@left), $pivot, quick-sort(@right));
}

my @data = 4, 5, 7, 1, 46, 78, 2, 2, 1, 9, 10;
@data = quick-sort @data;
say @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸ä¹‹å‰çš„&lt;a href=&#34;https://perl6.online/2019/06/21/100-bubble-sort-in-perl-6/&#34;&gt;å†’æ³¡æ’åºç¤ºä¾‹&lt;/a&gt;ä¸åŒï¼Œæ­¤ç¨‹åºä¸ä¼šå°±åœ°æ’åºï¼Œè€Œæ˜¯è¿”å›æ–°åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æ˜¯æ—¶å€™å°†ä»£ç è½¬æ¢ä¸ºæ›´å…· Perl 6 é£æ ¼ä»£ç çš„æ—¶å€™äº†ã€‚&lt;/p&gt;

&lt;p&gt;Multi-subs å†æ¬¡æ¥æ•‘æ´ï¼Œåœ¨å¢åŠ ä»£ç è¡Œæ•°çš„åŒæ—¶ï¼Œä½¿æ•´ä¸ªç®—æ³•åœ¨ç¬¬ä¸€çœ¼æ›´å®¹æ˜“æ•æ‰åˆ°:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi sub quick-sort(@data where @data.elems &amp;lt;= 1) {
    return @data;
}

multi sub quick-sort(@data where @data.elems &amp;gt; 1) {
    my $pivot = @data[0];

    . . .
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ï¼Œçœ‹çœ‹è¿™ä¸¤éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;my $pivot = @data[0];

. . .

for @data[1..*] -&amp;gt; $x {
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;éœ€è¦é‡‡ç”¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç®—æ³•çš„å…¶ä½™éƒ¨åˆ†ä»…å¤„ç†åˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†ã€‚ç›®å‰ï¼Œè¿™æ˜¯é€šè¿‡è·å–å…ƒç´ å’Œåˆ‡ç‰‡æ¥å®ç°çš„ï¼Œä½†æ˜¯æœ‰ä¸€ç§åˆ‡æ¢æ–¹æ³•å¯ä»¥å®Œå…¨æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ï¼Œå¹¶ä»æ•°æ®ä¸­åˆ é™¤å…ƒç´ ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å®ƒ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;my $pivot = @data.shift;

. . .

for @data -&amp;gt; $x {
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¥ä¸‹æ¥æ˜¯ &lt;code&gt;if-else&lt;/code&gt; é€‰æ‹©ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ï¼ˆå°½ç®¡å¯èƒ½æ•ˆç‡ç¨å·®ï¼‰ç”¨ä¸¤ä¸ª &lt;code&gt;grep&lt;/code&gt; æ›¿æ¢ï¼šä¸€ä¸ªé€‰æ‹©æ¢è½´ä¹‹å‰çš„éƒ¨åˆ†ï¼Œå¦ä¸€ä¸ªé€‰æ‹©å…¶ä½™éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;my @left = @data.grep(* &amp;lt; $pivot);
my @right = @data.grep(* &amp;gt;= $pivot);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŸºæœ¬ä¸Šå°±æ˜¯è¿™æ ·ã€‚ä½ è¿˜å¯ä»¥åšçš„æ˜¯æ‘†è„±ä¸´æ—¶å˜é‡å¹¶å°†è¿‡æ»¤å™¨æ”¾åˆ° &lt;code&gt;return&lt;/code&gt; è¯­å¥ä¸­&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;return flat(
    quick-sort(@data.grep(* &amp;lt; $pivot)),
    $pivot,
    quick-sort(@data.grep(* &amp;gt;= $pivot))
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸€åˆ‡éƒ½åœ¨æœ€åä¸€æ¬¡æ”¹å˜ä¹‹å‰å‘æŒ¥ä½œç”¨ï¼Œä½†ç°åœ¨å·²ç» broken äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ perl6 quick-sort.pl 
Cannot call &#39;pop&#39; on an immutable &#39;List&#39;
   in sub quick-sort at 3.pl line 6
   in sub quick-sort at 3.pl line 8
   in block &amp;lt;unit&amp;gt; at 3.pl line 12
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é—®é¢˜æ˜¯ä½ éœ€è¦è¿”å›ä¸€ä¸ªæ•°å­—åˆ—è¡¨ï¼Œä½†æ¯ä¸ªå¿«é€Ÿæ’åºå­ç±»éƒ½è¿”å›å®ƒè‡ªå·±çš„åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;p&gt;æ‚¨å¯ä»¥é€šè¿‡åœ¨å‡½æ•°å‚æ•°ä¹‹å‰æ”¾ç½®*æ¥å•œé¥®å…ƒç´ æ¥è½»æ¾è§£å†³é—®é¢˜&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi sub quick-sort(*@data where @data.elems &amp;gt; 1) {
    . . .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€ç»ˆä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi sub quick-sort(*@data where @data.elems &amp;lt;= 1) {
    return @data;
}

multi sub quick-sort(*@data where @data.elems &amp;gt; 1) {
    my $pivot = @data.shift;

    return flat(
        quick-sort(@data.grep(* &amp;lt; $pivot)),
        $pivot,
        quick-sort(@data.grep(* &amp;gt;= $pivot))
    );
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;|&lt;/code&gt; æ¥ç‹¬ç«‹å¹³å±•æ¯ä¸ªåˆ—è¡¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ &lt;code&gt;flat&lt;/code&gt; ä¾‹ç¨‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;return
    |quick-sort(@data.grep(* &amp;lt; $pivot)),
    $pivot,
    |quick-sort(@data.grep(* &amp;gt;= $pivot));
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†æˆ‘è®¤ä¸ºæœ‰ä¸¤ä¸ªå¯ç†è§£çš„ä¸­é—´å˜é‡ä»¥é¿å…æ ‡ç‚¹ç¬¦å·å™ªéŸ³ä»ç„¶æ›´å¥½ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi sub quick-sort(@data where @data.elems &amp;lt;= 1) {
    return @data;
}

multi sub quick-sort(@data where @data.elems &amp;gt; 1) {
    my $pivot = @data.shift;

    my @left = @data.grep(* &amp;lt; $pivot);
    my @right = @data.grep(* &amp;gt;= $pivot);

    return flat(quick-sort(@left), $pivot, quick-sort(@right));
}

my @data = 4, 5, 7, 1, 46, 78, 2, 2, 1, 9, 10;
@data = quick-sort @data;
say @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½œä¸ºå®¶åº­ä½œä¸šï¼Œåˆ›å»ºå¿«é€Ÿæ’åºç®—æ³•çš„å®ç°ï¼Œè¯¥ç®—æ³•å¯å°±åœ°å¯¹æ•°æ®è¿›è¡Œæ’åºã€‚&lt;/p&gt;

&lt;p&gt;è¯¥ä»£ç å¯åœ¨ &lt;a href=&#34;https://github.com/ash/perl6-algorithms/tree/master/sort&#34;&gt;GitHub ä¸Šè·å¾—&lt;/a&gt;ï¼Œæ¬¢è¿æ‚¨åŠ å…¥æ­¤æ—…ç¨‹ï¼&lt;/p&gt;

&lt;p&gt;åŸæ–‡ï¼š&lt;a href=&#34;https://perl6.online/2019/06/23/101-quick-sort-in-perl-6/&#34;&gt;https://perl6.online/2019/06/23/101-quick-sort-in-perl-6/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Perl 6 ä¸­çš„å†’æ³¡æ’åº</title>
      <link>https://ohmysummer.github.io/post/2019-06-22-bubble-sort-in-perl6/</link>
      <pubDate>Sat, 22 Jun 2019 10:59:47 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2019-06-22-bubble-sort-in-perl6/</guid>
      <description>&lt;p&gt;å˜¿å¤§å®¶å¥½ï¼Œè®©æˆ‘ä»¬åœ¨ Perl 6 ä¸­å®ç°ä¸€äº›ç®—æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€ä¸ªå°†æ˜¯ç»å…¸çš„å†’æ³¡æ’åºã€‚å®è´¨ä¸Šï¼Œæ‚¨ä»å·¦åˆ°å³æ‰«ææ•°æ®å¹¶äº¤æ¢ä¸¤ä¸ªç›¸é‚»çš„é¡¹ï¼ˆå¦‚æœå®ƒä»¬å°šæœªæ­£ç¡®æ’åºï¼‰ã€‚é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ•´ä¸ªæ•°æ®åˆ—è¡¨è¢«æ’åºã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ˜¯æœ€åˆçš„ç›´æ¥å®ç°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub bubble-sort(@data) {
    my Bool $done = False;
    while !$done {
        $done = True;
        for 1 .. @data.elems - 1 -&amp;gt; $n {
            if @data[$n - 1] &amp;gt; @data[$n] {
                (@data[$n - 1], @data[$n]) = 
                    (@data[$n], @data[$n - 1]);
                $done = False;
            }
        }
    }
}

my @data = 4, 5, 7, 1, 46, 78, 2, 2, 1, 9, 10;
bubble-sort @data;
say @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ­¤å®ç°æ‰§è¡Œå°±åœ°æ’åºï¼Œä½†æ‚¨ä¸éœ€è¦å°†å‡½æ•°å‚æ•°å£°æ˜ä¸º &lt;code&gt;is rw&lt;/code&gt;ã€‚å®é™…ä¸Šï¼Œç¼–è¯‘å™¨ä¼šå‘Šè¯‰æ‚¨è¿™æ˜¯å¤šä½™çš„ï¼Œå¹¶å°†åœæ­¢è¿›ä¸€æ­¥ç¼–è¯‘:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;For parameter &#39;@data&#39;, &#39;@&#39; sigil containers don&#39;t need &#39;is rw&#39; to be writable
Can only use &#39;is rw&#39; on a scalar (&#39;$&#39; sigil) parameter, not &#39;@data&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦ä¸€ä¸ªæˆ‘æƒ³æ›´ç²¾ç¡®åœ°çœ‹ä¸€ä¸‹çš„åœ°æ–¹æ˜¯äº¤æ¢ä¸¤ä¸ªæ•°ç»„å…ƒç´ ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;(@data[$n - 1], @data[$n]) = (@data[$n], @data[$n - 1]);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ï¼Œéšç€ç¨‹åºå‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤å®ƒæ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œè®©æˆ‘ä»¬å¯¹å…¶è¿›è¡Œè½¬æ¢ä»¥ä½¿å…¶æ›´å…·è¡¨ç°åŠ›ï¼ˆå°½ç®¡æ•ˆç‡å¯èƒ½ç¨ä½ï¼‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ perl6 bubble-sort.pl6 
[1 1 2 2 4 5 7 9 10 46 78]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬ä¸€æ­¥æ˜¯ç®€åŒ–äº¤æ¢ä»£ç ã€‚åœ¨ç­‰å·çš„ä¸¤è¾¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„ä¸¤ä¸ªå…ƒç´ ï¼Œç´¢å¼• &lt;code&gt;$n&lt;/code&gt; å’Œ &lt;code&gt;$n  -  1&lt;/code&gt;ã€‚å¯ä»¥åœ¨ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ä¸Šè°ƒç”¨ &lt;code&gt;reverse&lt;/code&gt; æ–¹æ³•å¹¶å°†å…¶èµ‹å€¼ç»™å®ƒï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;(@data[$n - 1], @data[$n]).=reverse;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½¿ç”¨æ•°ç»„åˆ‡ç‰‡å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@data[$n - 1, $n].=reverse;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æ‚¨æ‰€è§ï¼Œä¸å†éœ€è¦æ‹¬å·ã€‚ä½ å¿…é¡»è‡ªå·±å›ç­”çš„å”¯ä¸€é—®é¢˜æ˜¯ï¼Œæ˜¯å¦ç”¨ç©ºæ ¼åŒ…å›´ &lt;code&gt;.=&lt;/code&gt; è¿ç®—ç¬¦ã€‚ä¸€æ–¹é¢ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼ˆå› æ­¤ï¼Œæ²¡æœ‰ç©ºæ ¼ï¼‰ï¼Œå¦ä¸€æ–¹é¢ï¼Œå®ƒæ˜¯ä¸€ä¸ªèµ‹å€¼ï¼ˆå› æ­¤ï¼Œç©ºæ ¼ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å¥½çš„ï¼Œä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿå½“ç„¶ï¼Œ&lt;code&gt;if&lt;/code&gt; è¯­å¥å¯ä»¥å†™ä¸ºåç¼€æ¡ä»¶ï¼Œä½† &lt;code&gt;if&lt;/code&gt; å—ä¸­æœ‰ä¸¤è¡Œä»£ç ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘å¯ä»¥å†³å®šåœ¨ä»£ç ä¹‹ç¾å’Œæ•ˆç‡ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œå¹¶æ‘†è„±å¸ƒå°” &lt;code&gt;$done&lt;/code&gt; æ ‡å¿—ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub bubble-sort(@data) {
    for 1 .. @data.elems - 1 -&amp;gt; $n {
        if @data[$n - 1] &amp;gt; @data[$n] {
            @data[$n - 1, $n].=reverse;
        }
    }
    bubble-sort(@data) unless [&amp;lt;=] @data;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ­¤æ­¥éª¤è¿˜å…è®¸åˆ é™¤ &lt;code&gt;while&lt;/code&gt; å—ã€‚åœ¨å‡½æ•°ç»“æŸæ—¶ï¼Œå®Œæˆé€’å½’è°ƒç”¨ï¼ˆå†æ¬¡ï¼Œå¯èƒ½æ•ˆç‡è¾ƒä½ï¼Œä½†æ˜¯è°åœ¨ä¹ï¼‰ï¼Œå¹¶ä¸”æ£€æŸ¥æ•°ç»„æ˜¯å¦å·²ç»æ’åºçš„æ¡ä»¶ç°åœ¨æ˜¯æ˜¾å¼çš„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;unless [&amp;lt;=] @data
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¯•ç«Ÿï¼Œç°åœ¨å¯ä»¥é™„åŠ  &lt;code&gt;if&lt;/code&gt; åç¼€ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@data[$n - 1, $n].=reverse if @data[$n - 1] &amp;gt; @data[$n]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”šè‡³ &lt;code&gt;for&lt;/code&gt; åç¼€ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@data[$_ - 1, $_].=reverse
    if @data[$_ - 1] &amp;gt; @data[$_]
        for 1 .. @data.elems - 1;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦å¤–ï¼Œä¸ºä»€ä¹ˆä¸åƒä½¿ç”¨å‡½æ•°çš„å…¶ä»–éƒ¨åˆ†é‚£æ ·ä½¿ç”¨åˆ‡ç‰‡å’Œç®€åŒ–è¿ç®—ç¬¦æ¥åˆ›å»ºæ¡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;@data[$_ - 1, $_].=reverse
    if [&amp;gt;] @data[$_ - 1, $_]
        for 1 .. @data.elems - 1;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‹ä¸€æ­¥æ˜¯å‡å°èŒƒå›´ &lt;code&gt;1 .. @ data.elems  -  1&lt;/code&gt;ï¼Œè¿™æ˜¯å¯è¡Œçš„ï¼Œä½†åŒ…å«çš„å…ƒç´ å¤ªå¤šï¼Œå¯ä»¥åˆ é™¤ã€‚ &lt;code&gt;-1&lt;/code&gt; éƒ¨åˆ†å¯ä»¥ç”¨å¼€å£èŒƒå›´ä»£æ›¿ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;for 1 ..^ @data.elems;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¹‹å &lt;code&gt;elems&lt;/code&gt; è°ƒç”¨å°±ä¸éœ€è¦äº†ï¼ŒPerl 6 å¯ä»¥ä¸ºæˆ‘ä»¬åšåˆ°è¿™ä¸€ç‚¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;for 1 ..^ @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ˜¯ä»£ç çš„å½“å‰çŠ¶æ€ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub bubble-sort(@data) {
    @data[$_ - 1, $_] .= reverse
        if [&amp;gt;] @data[$_ - 1, $_]
            for 1 ..^ @data;
        
    bubble-sort(@data) unless [&amp;lt;=] @data;
}

my @data = 4, 5, 7, 1, 46, 78, 2, 2, 1, 9, 10;
bubble-sort @data;
say @data;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬æš‚åœä¹‹å‰ï¼Œä¸‹é¢æ˜¯å¦ä¸€ç§å¯èƒ½çš„ä¿®æ”¹ã€‚é€šå¸¸ï¼ŒPerl 6 ä¸­çš„é€’å½’å¯ä»¥é€šè¿‡ multi-subs å®ç°ã€‚è®©ç¼–è¯‘å™¨æ ¹æ®æ•°æ®å®Œæˆå·¥ä½œï¼Œè€Œä¸æ˜¯åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œåˆ†æ”¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;multi sub bubble-sort(@data where [&amp;lt;=] @data) {}

multi sub bubble-sort(@data where ![&amp;lt;=] @data) {
    @data[$_ - 1, $_] .= reverse
        if [&amp;gt;] @data[$_ - 1, $_]
            for 1 ..^ @data;
    bubble-sort(@data);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæ‚¨ä¸å–œæ¬¢ &lt;code&gt;[&amp;lt;=]&lt;/code&gt; æ£€æŸ¥ï¼ˆå› ä¸ºå®ƒåº”è¯¥æ‰«ææ•´ä¸ªåˆ—è¡¨ï¼‰ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå¸¦æœ‰å¦ä¸€ä¸ªå¾ªç¯å±‚çš„æš´åŠ›ç‰ˆæœ¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub bubble-sort(@data) {
    for ^@data {
        @data[$_ - 1, $_] .= reverse
            if [&amp;gt;] @data[$_ - 1, $_] for 1 ..^ @data;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯ä»¥ä½¿ç”¨äº¤å‰è¿ç®—ç¬¦è¿æ¥ä¸¤ä¸ª &lt;code&gt;for&lt;/code&gt; å¾ªç¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-perl6&#34;&gt;sub bubble-sort(@data) {
    for ^@data X 1 ..^ @data {
        my $n = $_[1];
        @data[$n - 1, $n] .= reverse if [&amp;gt;] @data[$n - 1, $n];
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬é‚€è¯·æ‚¨è¿›ä¸€æ­¥å¤„ç†æ­¤ä»£ç ã€‚æˆ‘çœŸçš„å¥½å¥‡æ˜¯å¦ä»¥åŠå¦‚ä½•åšå¾—æ›´çŸ­ï¼ˆä¾‹å¦‚ï¼Œå¦‚ä½•é‡ç”¨åˆ‡ç‰‡ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/ash/perl6-algorithms/tree/master/sort&#34;&gt;GitHub&lt;/a&gt; ä¸Šæä¾›äº†ä¸Šè¿°ç¨‹åºçš„æºä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;åŸæ–‡ï¼š &lt;a href=&#34;https://perl6.online/2019/06/21/100-bubble-sort-in-perl-6/&#34;&gt;https://perl6.online/2019/06/21/100-bubble-sort-in-perl-6/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>