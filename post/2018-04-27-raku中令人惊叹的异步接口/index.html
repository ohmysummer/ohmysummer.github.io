<!DOCTYPE html>
<html lang="zh" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Awesome Async Interfaces with Raku - Raku Programming</title>
  <meta name="description" content="A tutorial for writing IRC bots with Raku">
  <meta name="author" content="ç„‰çŸ¥éé±¼"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Raku Programming",
    
    "url": "https:\/\/ohmysummer.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/ohmysummer.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/ohmysummer.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/ohmysummer.github.io\/post\/2018-04-27-raku%E4%B8%AD%E4%BB%A4%E4%BA%BA%E6%83%8A%E5%8F%B9%E7%9A%84%E5%BC%82%E6%AD%A5%E6%8E%A5%E5%8F%A3\/",
          "name": "Awesome async interfaces with raku"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "ç„‰çŸ¥éé±¼"
  },
  "headline": "Awesome Async Interfaces with Raku",
  "description" : "2015 å¹´åœ£è¯èŠ‚å‰å, æˆ‘å†™äº†æˆ‘çš„ç¬¬ä¸€ä¸ª Raku ç¨‹åº - æ–°å¹´ IRC æ´¾å¯¹æœºå™¨äººã€‚è¿™é¡¹å·¥ä½œåŒ…æ‹¬å‘å¸ƒäº† IRC::Client æ¨¡å—ã€‚æˆ‘ä»è¿™ä¸ªè¯­è¨€ä¸­æ‰¾åˆ°äº†ç«¥å¹´çš„ä¹è¶£å¹¶ä¸”åœ¨å‡æœŸå–äº†ä¸å°‘é…’, ç»“æœå°±æ˜¯è¿™ä¸ªæ¨¡å—æœ€ç»ˆè¶³å¤Ÿç–¯ç‹‚ã€‚",
  "inLanguage" : "zh",
  "wordCount":  1434 ,
  "datePublished" : "2018-04-26T10:54:24",
  "dateModified" : "2018-04-26T10:54:24",
  "image" : "https:\/\/ohmysummer.github.io\/img\/rakudo.png",
  "keywords" : [ "Raku, IRC" ],
  "mainEntityOfPage" : "https:\/\/ohmysummer.github.io\/post\/2018-04-27-raku%E4%B8%AD%E4%BB%A4%E4%BA%BA%E6%83%8A%E5%8F%B9%E7%9A%84%E5%BC%82%E6%AD%A5%E6%8E%A5%E5%8F%A3\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/ohmysummer.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/ohmysummer.github.io\/img\/rakudo.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Awesome Async Interfaces with Raku" />
<meta property="og:description" content="A tutorial for writing IRC bots with Raku">
<meta property="og:image" content="https://ohmysummer.github.io/img/rakudo.png" />
<meta property="og:url" content="https://ohmysummer.github.io/post/2018-04-27-raku%E4%B8%AD%E4%BB%A4%E4%BA%BA%E6%83%8A%E5%8F%B9%E7%9A%84%E5%BC%82%E6%AD%A5%E6%8E%A5%E5%8F%A3/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Raku Programming" />

  <meta name="twitter:title" content="Awesome Async Interfaces with Raku" />
  <meta name="twitter:description" content="A tutorial for writing IRC bots with Raku">
  <meta name="twitter:image" content="https://ohmysummer.github.io/img/rakudo.png" />
  <meta name="twitter:card" content="summary" />
  <link href='https://ohmysummer.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.63.2" />
  <link rel="alternate" href="https://ohmysummer.github.io/index.xml" type="application/rss+xml" title="Raku Programming"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://ohmysummer.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://ohmysummer.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://ohmysummer.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'ohmycloudy', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://ohmysummer.github.io/">Raku Programming</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="åšå®¢" href="/">åšå®¢</a>
            </li>
          
        
          
            <li>
              <a title="å½’æ¡£" href="/categories">å½’æ¡£</a>
            </li>
          
        
          
            <li>
              <a title="å…³äº" href="/page/about/">å…³äº</a>
            </li>
          
        
          
            <li>
              <a title="æ ‡ç­¾" href="/tags">æ ‡ç­¾</a>
            </li>
          
        

        

        
          <li>
            <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg"></span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Raku Programming" href="https://ohmysummer.github.io/">
            <img class="avatar-img" src="https://ohmysummer.github.io/img/rakudo.png" alt="Raku Programming" />
          </a>
        </div>
      </div>
    

  </div>
</nav>



  <div id="modalSearch" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title"></h4>
        </div>
        <div class="modal-body">
          <gcse:search></gcse:search>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal"></button>
        </div>
      </div>
    </div>
  </div>


    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Awesome Async Interfaces with Raku</h1>
              
              
              
                
                  <h2 class="post-subheading">A tutorial for writing IRC bots with Raku</h2>
                
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;7&nbsp;
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1434&nbsp;
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;ç„‰çŸ¥éé±¼
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>2015 å¹´åœ£è¯èŠ‚å‰å, æˆ‘å†™äº†æˆ‘çš„ç¬¬ä¸€ä¸ª Raku ç¨‹åº - æ–°å¹´ IRC æ´¾å¯¹æœºå™¨äººã€‚è¿™é¡¹å·¥ä½œåŒ…æ‹¬å‘å¸ƒäº† <a href="https://github.com/zoffixznet/raku-IRC-Client/">IRC::Client</a> æ¨¡å—ã€‚æˆ‘ä»è¿™ä¸ªè¯­è¨€ä¸­æ‰¾åˆ°äº†ç«¥å¹´çš„ä¹è¶£å¹¶ä¸”åœ¨å‡æœŸå–äº†ä¸å°‘é…’, ç»“æœå°±æ˜¯è¿™ä¸ªæ¨¡å—æœ€ç»ˆè¶³å¤Ÿç–¯ç‹‚ã€‚</p>
<p>æœ€è¿‘, æˆ‘éœ€è¦ä¸€ä¸ªå·¥å…·æ¥å®Œæˆä¸€äº› Raku çš„ bug é˜Ÿåˆ—å·¥ä½œ, å› æ­¤æˆ‘å†³å®šæŠŠè‡ªå·±å…³ä¸Šä¸€ä¸ªå‘¨æœ«, ä»å¤´å¼€å§‹é‡æ–°è®¾è®¡å’Œé‡å†™è¿™ä¸ªæ¨¡å—ã€‚åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œ, æœ‰å¥½å‡ ä¸ªäººè¯·æ±‚æˆ‘è¿™ä¹ˆåš, æ‰€ä»¥æˆ‘æƒ³æˆ‘ä¹Ÿåº”è¯¥å†™ä¸€ç¯‡å…³äºå¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ¨¡å—çš„æ•™ç¨‹ - ä½œä¸ºå¯¹æˆ‘è¿™ä¸ªæ‹–å»¶ç—‡å¤§å¸ˆçš„é“æ­‰ã€‚å¦‚æœä½ å¯¹ IRC æ²¡æœ‰å…´è¶£çš„è¯, æˆ‘å¸Œæœ›è¿™ç¯‡æ•™ç¨‹å¯ä»¥ä½œä¸º Raku ä¸­çš„å¼‚æ­¥ã€éé˜»å¡æ¥å£çš„ä¸€ä¸ªä¸€èˆ¬ç¤ºä¾‹ã€‚</p>
<h2 id="åŸºç¡€">åŸºç¡€</h2>
<p>è¦åˆ›å»ºä¸€ä¸ª IRC æœºå™¨äºº, è¯·å®ä¾‹åŒ–ä¸€ä¸ª <code>IRC::Client</code> å¯¹è±¡, ç»™å®ƒä¸€äº›åŸºæœ¬ä¿¡æ¯, ç„¶åè°ƒç”¨ <code>.run</code> æ–¹æ³•ã€‚å°†æ‰€æœ‰ä½ éœ€è¦çš„åŠŸèƒ½å®ç°ä¸ºç±», å¹¶é€šè¿‡æ–¹æ³•ååŒ¹é…ä½ æƒ³è¦ç›‘å¬çš„äº‹ä»¶, ç„¶åé€šè¿‡ <code>.plugins</code> å±æ€§å°†å…¶ä¼ é€’ç»™æ‰€æœ‰çš„æ’ä»¶ã€‚å½“å‘ç”Ÿ IRC äº‹ä»¶æ—¶, å®ƒä¼šæŒ‰ç…§ä½ æŒ‡å®šçš„é¡ºåºä¼ é€’ç»™æ‰€æœ‰çš„æ’ä»¶, å¦‚æœæœ‰æ’ä»¶å®£ç§°å¤„ç†äº†è¯¥äº‹ä»¶å°±åœæ­¢ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ IRC æœºå™¨äºº, å®ƒå¯ä»¥å“åº”åœ¨é¢‘é“ä¸­æ‰¾äººã€é€šçŸ¥å’Œå‘é€ç»™å®ƒçš„ç§äººæ¶ˆæ¯ã€‚ä¸‹é¢è¿™ä¸ªå“åº”æ˜¯æœºå™¨äººæ”¶åˆ°çš„å¤§å†™åçš„åŸå§‹æ¶ˆæ¯ï¼š</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;
.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#raku&gt;
    :debug
    :plugins(class { method irc-to-me ($_) { .text.uc } })
</code></pre><p>è¿™å°±æ˜¯æœºå™¨äººè¿è¡Œæ—¶çš„æ ·å­ï¼š</p>
<pre><code>&lt;Zoffix&gt; MahBot, I â™¥ you!
&lt;MahBot&gt; Zoffix, I â™¥ YOU!
</code></pre><p><code>:nick</code>, <code>:host</code> å’Œ <code>:channels</code> æ˜¯æœºå™¨äººçš„æ˜µç§°ã€å®ƒåº”è¯¥è¿æ¥çš„æœåŠ¡å™¨ä»¥åŠå®ƒåº”è¯¥åŠ å…¥çš„é¢‘é“ã€‚<code>:debug</code> æ§åˆ¶è¦æ˜¾ç¤ºå¤šå°‘è°ƒè¯•è¾“å‡ºã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå°†å…¶å€¼è®¾ç½®ä¸º <code>1</code>, ç”¨äºæ˜¾ç¤ºç¨€ç–çš„è°ƒè¯•è¾“å‡º, åªæ˜¯ä¸ºäº†çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚æç¤ºï¼šå®‰è£…å¯é€‰çš„ <a href="https://modules.raku.org/repo/Terminal::ANSIColor">Terminal::ANSIColor</a> æ¨¡å—å¯ä»¥ä½¿è°ƒè¯•è¾“å‡ºæ›´å¥½çœ‹ï¼š</p>
<p><img src="https://perl6.party/assets/pics/irc-bot/debug-output.png" alt="img"></p>
<p>å¯¹äº <code>.plugins</code> å±æ€§, æˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªåŒ¿åç±»ã€‚å¦‚æœä½ æœ‰å¤šä¸ªæ’ä»¶, åªéœ€æŒ‰ç…§ä½ æƒ³è®©å®ƒä»¬æ¥æ”¶äº‹ä»¶çš„é¡ºåºæŠŠå®ƒä»¬éƒ½å¡è¿›å»å³å¯ï¼š</p>
<pre><code class="language-raku" data-lang="raku">:plugins(PlugFirst.new, PlugSecond.new(:conf), class { ... })
</code></pre><p>æˆ‘ä»¬ uppercasing æœºå™¨äººçš„æ’ä»¶ç±»æœ‰ä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•æ¥ç›‘å¬ <code>irc-to-me</code> äº‹ä»¶, æ¯å½“æœºå™¨äººåœ¨é¢‘é“ä¸­è¢«å¯»å€æˆ–è¢«å‘é€ç§ä¿¡æˆ–é€šçŸ¥æ—¶, å°±ä¼šè¢«è§¦å‘ã€‚å®ƒæ¥æ”¶å•ä¸ªå‚æ•°ï¼šæ‰®æ¼” <code>IRC::Client::Message</code> è§’è‰²çš„å¯¹è±¡ä¹‹ä¸€ã€‚æˆ‘ä»¬å°†å…¶æ’å…¥åˆ° <code>$_</code> ä¸»é¢˜å˜é‡ä¸­, ä»¥èŠ‚çœä¸€äº›è¾“å…¥ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡ä»è¿™ä¸ªæ–¹æ³•ä¸­è¿”å›ä¸€ä¸ªå€¼æ¥å“åº”è¯¥äº‹ä»¶ã€‚åŸæ–‡åŒ…å«åœ¨æ¶ˆæ¯å¯¹è±¡çš„ <code>.text</code> å±æ€§ä¸­, æ‰€ä»¥æˆ‘ä»¬å°†è°ƒç”¨ <code>.uc</code> æ–¹æ³•å¯¹å†…å®¹è¿›è¡Œå¤§å†™, è¿™å°±æ˜¯æˆ‘ä»¬çš„å“åº”ã€‚</p>
<p>å°±åƒæˆ‘ä»¬çš„ uppercasing æœºå™¨äººä¸€æ ·å‰å®³, å®ƒå°±åƒæåœ°è€ƒå¯Ÿä¸­çš„ç©ºè°ƒä¸€æ ·å¥½ç”¨ã€‚è®©æˆ‘ä»¬æ•™ç»™å®ƒä¸€äº›æŠ€å·§å§ã€‚</p>
<h2 id="å˜å¾—æ›´èªæ˜">å˜å¾—æ›´èªæ˜</h2>
<p>æˆ‘ä»¬å°†è°ƒç”¨æˆ‘ä»¬çš„æ–°æ’ä»¶ <code>Trickster</code>, å®ƒå“åº”å‘½ä»¤ <code>time</code> - è¿™ä¼šç»™å‡ºå½“åœ°çš„æ—¶é—´å’Œæ—¥æœŸ - ä»¥åŠ <code>temp</code> - å°†æ¸©åº¦åœ¨åæ°æ¸©åº¦å’Œæ‘„æ°æ¸©åº¦ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚ä¸‹é¢æ˜¯ä»£ç ï¼š</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;

class Trickster {
    method irc-to-me ($_) {
        given .text {
            when /time/ { DateTime.now }
            when /temp \s+ $&lt;temp&gt;=\d+ $&lt;unit&gt;=[F|C]/ {
                when $&lt;unit&gt; eq 'F' { &quot;That's {($&lt;temp&gt; - 32) Ã— .5556}Â°C&quot; }
                default             { &quot;That's { $&lt;temp&gt; Ã— 1.8 + 32   }Â°F&quot; }
            }
            'huh?'
        }
    }
}

.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#raku&gt;
    :debug
    :plugins(Trickster)
</code></pre><pre><code>&lt;Zoffix&gt; MahBot, time
&lt;MahBot&gt; Zoffix, 2016-07-23T19:00:15.795551-04:00
&lt;Zoffix&gt; MahBot, temp 42F
&lt;MahBot&gt; Zoffix, That's 5.556Â°C
&lt;Zoffix&gt; MahBot, temp 42C
&lt;MahBot&gt; Zoffix, That's 107.6Â°F
&lt;Zoffix&gt; MahBot, I â™¥ you!
&lt;MahBot&gt; Zoffix, huh?
</code></pre><p>è¿™æ®µä»£ç å¾ˆç®€å•ï¼šæˆ‘ä»¬å°†ç»™å®šçš„æ–‡æœ¬ä¼ é€’ç»™å‡ ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœå®ƒåŒ…å«å•è¯ <code>time</code>, æˆ‘ä»¬ä¼šè¿”å›å½“å‰æ—¶é—´ã€‚å¦‚æœå®ƒåŒ…å«å•è¯ <code>temp</code>, æˆ‘ä»¬ä¼šæ ¹æ®ç»™å®šçš„æ•°å­—æ˜¯ç”± F è¿˜æ˜¯ C åç¼€æ¥è¿›è¡Œé€‚å½“çš„è®¡ç®—ã€‚è€Œå¦‚æœæ²¡æœ‰åŒ¹é…å‘ç”Ÿ, æˆ‘ä»¬æœ€ç»ˆä¼šè¿”å›å¥½å¥‡çš„ <code>huh?</code>ã€‚</p>
<p>è¿™ä¸ªæ–°çš„æ”¹è¿›åçš„æ’ä»¶æœ‰ä¸€ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼šæœºå™¨äººä¸å†çˆ±æˆ‘äº†ï¼è™½ç„¶æˆ‘è¿˜èƒ½ç†¬è¿‡å¿ƒç—›, ä½†æˆ‘æ€€ç–‘ä»»ä½•å…¶ä»–æ’ä»¶éƒ½ä¸ä¼šå†æ•™å¯¼æœºå™¨äººçˆ±æˆ‘äº†, å› ä¸º <code>Trickster</code> ä¼šæ¶ˆè€—æ‰æ‰€æœ‰çš„ <code>irc-to-me</code> äº‹ä»¶, å³ä½¿å®ƒä¸è¯†åˆ«ä»»ä½•å®ƒèƒ½å¤„ç†çš„å‘½ä»¤ã€‚è®©æˆ‘ä»¬æ¥è§£å†³è¿™ä¸ªé—®é¢˜å§ï¼</p>
<h2 id="ä¼ é€’ç¾å…ƒ">ä¼ é€’ç¾å…ƒ</h2>
<p>äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„å€¼, ä»¥è¡¨ç¤ºå®ƒæ²¡æœ‰å¤„ç†è¯¥äº‹ä»¶, å¹¶ä¸”åº”è¯¥å°†å…¶ä¼ æ’­ç»™å…¶å®ƒæ’ä»¶å’Œäº‹ä»¶å¤„ç†ç¨‹åºã€‚è¿™ä¸ªå€¼æ˜¯ç”± <code>IRC::Client::Plugin</code> è§’è‰²æä¾›çš„ <code>.NEXT</code> å±æ€§æä¾›çš„, æ’ä»¶å¯ä»¥ <code>does</code> è·å–è¿™ä¸ªå±æ€§ã€‚å½“ä½ ä½¿ç”¨ <code>IRC::Client</code> æ—¶, è¿™ä¸ªè§’è‰²ä¼šè‡ªåŠ¨å¯¼å‡ºã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›åˆ©ç”¨è¿™ä¸ªç‰¹æ®Šå€¼çš„ä»£ç ã€‚è¯·æ³¨æ„, ç”±äº <code>.NEXT</code> æ˜¯ä¸€ä¸ªå±æ€§, è€Œæˆ‘ä»¬æ— æ³•åœ¨ç±»å‹å¯¹è±¡ä¸ŠæŸ¥æ‰¾å±æ€§, æ‰€ä»¥ä½ éœ€è¦å¤šèµ°ä¸€æ­¥, åœ¨å°†æ’ä»¶ç±»å®ä¾‹åŒ–çš„æ—¶å€™, å°†å®ƒä»¬ä¼ é€’ç»™ <code>:plugins</code>ã€‚</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;

class Trickster does IRC::Client::Plugin {
    method irc-to-me ($_) {
        given .text {
            when /time/ { DateTime.now }
            when /temp \s+ $&lt;temp&gt;=\d+ $&lt;unit&gt;=[F|C]/ {
                when $&lt;unit&gt; eq 'F' { &quot;That's {($&lt;temp&gt; - 32) Ã— .5556}Â°C&quot; }
                default             { &quot;That's { $&lt;temp&gt; Ã— 1.8 + 32   }Â°F&quot; }
            }
            $.NEXT;
        }
    }
}

class BFF does IRC::Client::Plugin {
    method irc-to-me ($_) {
        when .text ~~ /'â™¥'/ { 'I â™¥ YOU!' };
        $.NEXT;
    }
}

.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#raku&gt;
    :debug
    :plugins(Trickster.new, BFF.new)
</code></pre><pre><code>&lt;Zoffix&gt; MahBot, time
&lt;MahBot&gt; Zoffix, 2016-07-23T19:37:45.788272-04:00
&lt;Zoffix&gt; MahBot, temp 42F
&lt;MahBot&gt; Zoffix, That's 5.556Â°C
&lt;Zoffix&gt; MahBot, temp 42C
&lt;MahBot&gt; Zoffix, That's 107.6Â°F
&lt;Zoffix&gt; MahBot, I â™¥ you!
&lt;MahBot&gt; Zoffix, I â™¥ YOU!
</code></pre><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªæ’ä»¶éƒ½è®¢é˜…äº† <code>irc-to-me</code> äº‹ä»¶ã€‚ <code>:plugins</code> å±æ€§é¦–å…ˆæ¥æ”¶ <code>Trickster</code> æ’ä»¶, æ‰€ä»¥å®ƒçš„äº‹ä»¶å¤„ç†ç¨‹åºå°†é¦–å…ˆè¿è¡Œã€‚å¦‚æœæ¥æ”¶åˆ°çš„æ–‡æœ¬ä¸ <code>Trickster</code> çš„ä»»ä½•ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„éƒ½ä¸åŒ¹é…, å®ƒå°†ä»è¯¥æ–¹æ³•è¿”å› <code>$.NEXT</code>ã€‚</p>
<p>è¿™å°±ç»™å®¢æˆ·ç«¯å¯¹è±¡å‘å‡ºäº†å¯»æ‰¾å…¶ä»–å¤„ç†ç¨‹åºçš„ä¿¡å·, æ‰€ä»¥å®ƒå°±ä¼šåˆ°è¾¾ <code>BFF</code> çš„ <code>irc-to-me</code> å¤„ç†ç¨‹åºã€‚åœ¨é‚£é‡Œ, å¦‚æœè¾“å…¥ä¸­æ˜¯å¦åŒ…å«çˆ±å¿ƒ, æˆ‘ä»¬å°±ä¼šå›å¤, å¦‚æœæ²¡æœ‰, æˆ‘ä»¬ä¹Ÿä¼šåœ¨è¿™é‡Œé¢„å…ˆè¿”å› <code>$.NEXT</code>ã€‚</p>
<p>å½“æœºå™¨äººæ¢å¤äº†å®ƒçš„æ™´æœ—çš„æ€§æ ¼, ä½†å®ƒæ˜¯ä»¥é¢å¤–çš„æ‰“å­—ä¸ºä»£ä»·çš„ã€‚æˆ‘ä»¬èƒ½åšäº›ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h2 id="ä¸‡ç‰©å¤šå˜">ä¸‡ç‰©å¤šå˜</h2>
<p>Raku æ”¯æŒå¤šé‡åˆ†æ´¾ä»¥åŠç­¾åä¸­çš„ç±»å‹çº¦æŸã€‚é™¤æ­¤ä¹‹å¤–, å¦‚æœ <code>IRC::Client</code> çš„æ¶ˆæ¯å¯¹è±¡æœ‰ <code>.text</code> å±æ€§, é‚£ä¹ˆ smartmatch å°±ä¼šä½¿ç”¨è¯¥å±æ€§çš„å€¼ã€‚å°†è¿™ä¸‰ä¸ªç‰¹æ€§ç»“åˆèµ·æ¥, ä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªéå¸¸ç®€æ´çš„ä»£ç ï¼š</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;
class Trickster {
    multi method irc-to-me ($ where /time/) { DateTime.now }
    multi method irc-to-me ($ where /temp \s+ $&lt;temp&gt;=\d+ $&lt;unit&gt;=[F|C]/) {
        $&lt;unit&gt; eq 'F' ?? &quot;That's {($&lt;temp&gt; - 32) Ã— .5556}Â°C&quot;
                       !! &quot;That's { $&lt;temp&gt; Ã— 1.8 + 32   }Â°F&quot;
    }
}

class BFF { method irc-to-me ($ where /'â™¥'/) { 'I â™¥ YOU!' } }

.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#raku&gt;
    :debug
    :plugins(Trickster, BFF)
</code></pre><pre><code>&lt;Zoffix&gt; MahBot, time
&lt;MahBot&gt; Zoffix, 2016-07-23T19:59:44.481553-04:00
&lt;Zoffix&gt; MahBot, temp 42F
&lt;MahBot&gt; Zoffix, That's 5.556Â°C
&lt;Zoffix&gt; MahBot, temp 42C
&lt;MahBot&gt; Zoffix, That's 107.6Â°F
&lt;Zoffix&gt; MahBot, I â™¥ you!
&lt;MahBot&gt; Zoffix, I â™¥ YOU!
</code></pre><p>åœ¨ç­¾åä¹‹å¤–, æˆ‘ä»¬ä¸å†éœ€è¦æ¶ˆæ¯å¯¹è±¡, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ¿å <code>$</code> å‚æ•°æ¥ä»£æ›¿å®ƒã€‚ç„¶å, æˆ‘ä»¬ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç±»å‹æ¥<a href="https://raku.party/post/Perl-6-Types--Made-for-Humans#subsets:tailor-madetypes">çº¦æŸ</a>è¿™ä¸ªå‚æ•°, å› æ­¤åªæœ‰å½“æ¶ˆæ¯çš„æ–‡æœ¬ä¸è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ—¶, æ–¹æ³•æ‰ä¼šè¢«è°ƒç”¨ã€‚å› ä¸ºæ²¡æœ‰æ–¹æ³•ä¼šåœ¨å¤±è´¥æ—¶è¢«è°ƒç”¨, æ‰€ä»¥æˆ‘ä»¬ä¸å†éœ€è¦åœ¨æ’ä»¶ä¸­åŠ å…¥ <code>$.NEXT</code>, ä¹Ÿä¸éœ€è¦åœ¨æ’ä»¶ä¸­æ·»åŠ ä»»ä½•è§’è‰²ã€‚</p>
<p>æˆ‘ä»¬æ–¹æ³•çš„ä¸»ä½“éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„è¯­å¥äº§ç”Ÿäº‹ä»¶çš„å“åº”å€¼ã€‚åœ¨æ¸©åº¦è½¬æ¢å™¨ä¸­, æˆ‘ä»¬ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ¥é€‰æ‹©è½¬æ¢æ—¶ä½¿ç”¨å“ªä¸ªå…¬å¼, è¿™å–å†³äºæ‰€è¯·æ±‚çš„å•ä½, æ˜¯çš„, åœ¨ç­¾åç±»å‹çº¦æŸåŒ¹é…ä¸­åˆ›å»ºçš„ <code>$&lt;unit&gt;</code> å’Œ <code>$&lt;temp&gt;</code> æ•è·å¯ç”¨äºè¯¥æ–¹æ³•çš„ä¸»ä½“ã€‚</p>
<h2 id="å¤šäº‹ä¹‹ç§‹">å¤šäº‹ä¹‹ç§‹</h2>
<p>é™¤äº†æ ‡å‡†çš„å‘½åå’Œæ•°å­— IRC åè®®äº‹ä»¶å¤–, <code>IRC::Client</code> è¿˜æä¾›äº†æ–¹ä¾¿äº‹ä»¶ã€‚å…¶ä¸­ä¸€ä¸ªæˆ‘ä»¬å·²ç»çœ‹åˆ°è¿‡ï¼š<code>irc-to-me</code> äº‹ä»¶ã€‚è¿™æ ·çš„äº‹ä»¶æ˜¯åˆ†å±‚çš„, æ‰€ä»¥ä¸€ä¸ª IRC äº‹ä»¶å¯ä»¥è§¦å‘å¤šä¸ª <code>IRC::Client</code> çš„äº‹ä»¶ã€‚ä¾‹å¦‚, å¦‚æœæœ‰äººåœ¨é¢‘é“ä¸­ @ æˆ‘ä»¬çš„æœºå™¨äºº, å°±ä¼šè§¦å‘ä»¥ä¸‹äº‹ä»¶é“¾ï¼š</p>
<pre><code>irc-addressed  â–¶  irc-to-me  â–¶  irc-privmsg-channel  â–¶  irc-privmsg  â–¶  irc-all
</code></pre><p>è¿™äº›äº‹ä»¶ä»&quot;æœ€çª„&quot;åˆ°&quot;æœ€å®½&quot;æ’åˆ—ï¼šå½“æˆ‘ä»¬çš„æœºå™¨äººè¢« @ æ—¶, æ‰ä¼šåœ¨é¢‘é“ä¸­è§¦å‘ <code>irc-addressed</code>ã€‚ <code>irc-to-me</code> ä¹Ÿå¯ä»¥é€šè¿‡é€šçŸ¥å’Œç§ä¿¡è§¦å‘, æ‰€ä»¥å®ƒçš„èŒƒå›´æ›´å®½; <code>irc-privmsg-channel</code> åŒ…å«æ‰€æœ‰é¢‘é“æ¶ˆæ¯, æ‰€ä»¥å®ƒçš„èŒƒå›´ä»ç„¶æ›´å®½; è€Œ <code>irc-privmsg</code> ä¹ŸåŒ…å«ç»™æˆ‘ä»¬çš„æœºå™¨äººçš„ç§ä¿¡ã€‚è¿™æ¡é“¾ä»¥å…¶ä¸­æœ€å®½çš„äº‹ä»¶ç»“æŸï¼š<code>irc-all</code>ã€‚</p>
<p>å¦‚æœæ’ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åºè¿”å› <code>$.NEXT</code> ä»¥å¤–çš„ä»»ä½•å€¼, é‚£ä¹ˆäº‹ä»¶é“¾åé¢çš„äº‹ä»¶å°±ä¸ä¼šè¢«è§¦å‘, å°±åƒæ’ä»¶é“¾ä¸­åé¢çš„æ’ä»¶ä¹Ÿä¸ä¼šå› ä¸ºåŒæ ·çš„åŸå› è€Œè¢«å°è¯•ä¸€æ ·ã€‚æ¯ä¸ªäº‹ä»¶éƒ½ä¼šåœ¨æ‰€æœ‰çš„æ’ä»¶ä¸Šè¿›è¡Œå°è¯•, ç„¶åå†å°è¯•å¤„ç†æ›´å®½çš„äº‹ä»¶ã€‚</p>
<p>é€šè¿‡å°† <code>:debug</code> å±æ€§è®¾ç½®ä¸º 3 çº§æˆ–æ›´é«˜çš„çº§åˆ«, ä½ ä¼šåœ¨è°ƒè¯•è¾“å‡ºä¸­å¾—åˆ°å‘å°„çš„äº‹ä»¶ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬çš„æœºå™¨äººå°è¯•å¤„ç†æœªçŸ¥çš„å‘½ä»¤ <code>blarg</code>, ç„¶åå¤„ç†ç”±æˆ‘ä»¬å®šä¹‰çš„ <code>irc-to-me</code> äº‹ä»¶å¤„ç†ç¨‹åºå¤„ç†çš„å‘½ä»¤ <code>time</code>ï¼š</p>
<p><img src="https://perl6.party/assets/pics/irc-bot/debug-output2.png" alt="img"></p>
<p><code>IRC::Client</code> çš„æ‰€æœ‰äº‹ä»¶éƒ½æœ‰ <code>irc-</code> å‰ç¼€, æ‰€ä»¥ä½ å¯ä»¥åœ¨æ’ä»¶ä¸­è‡ªç”±å®šä¹‰è¾…åŠ©æ–¹æ³•, ä¸ç”¨æ‹…å¿ƒä¸äº‹ä»¶å¤„ç†ç¨‹åºå†²çªã€‚è¯´åˆ°å‘å‡ºçš„ä¸œè¥¿&hellip;&hellip;</p>
<h2 id="è®©å®ƒä»¬æ¥å§">è®©å®ƒä»¬æ¥å§!</h2>
<p>å“åº”å‘½ä»¤æ˜¯å¾ˆå¥½çš„, ä½†å¾ˆå¤šæœºå™¨äººå¯èƒ½ä¼šå¸Œæœ›è‡ªå·±ä¸»åŠ¨äº§ç”Ÿä¸€äº›è¾“å‡ºã€‚ä½œä¸ºä¸€ä¸ªä¾‹å­, è®©æˆ‘ä»¬å†™ä¸€ä¸ªæœºå™¨äºº, æ¯å½“æˆ‘ä»¬æœ‰æœªè¯»çš„ GitHub é€šçŸ¥æ—¶, å®ƒä¼šæ¥è¿‡æ¥çƒ¦æˆ‘ä»¬ï¼</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;
use HTTP::Tinyish;
use JSON::Fast;

class GitHub::Notifications does IRC::Client::Plugin {
    has Str  $.token  = %*ENV&lt;GITHUB_TOKEN&gt;;
    has      $!ua     = HTTP::Tinyish.new;
    constant $API_URL = 'https://api.github.com/notifications';

    method irc-connected ($) {
        start react {
            whenever self!notification.grep(* &gt; 0) -&gt; $num {
                $.irc.send: :where&lt;Zoffix&gt;
                            :text(&quot;You have $num unread notifications!&quot;)
                            :notice;
            }
        }
    }

    method !notification {
        supply {
            loop {
                my $res = $!ua.get: $API_URL, :headers{ :Authorization(&quot;token $!token&quot;) };
                $res&lt;success&gt; and emit +grep *.&lt;unread&gt;, |from-json $res&lt;content&gt;;
                sleep $res&lt;headers&gt;&lt;X-Poll-Interval&gt; || 60;
            }
        }
    }
}

.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#raku&gt;
    :debug
    :plugins(GitHub::Notifications.new)
</code></pre><pre><code>[00:25:41] -MahBot- Zoffix, You have 20 unread notifications!
[00:26:41] -MahBot- Zoffix, You have 19 unread notifications!
</code></pre><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>does</code> <code>IRC::Client::Plugin</code> è§’è‰²çš„ <code>GitHub::Notifications</code> ç±»ã€‚è¿™ä¸ªè§’è‰²ä¸ºæˆ‘ä»¬æä¾›äº† <code>$.irc</code> å±æ€§, è¿™æ˜¯æˆ‘ä»¬å°†ç”¨äºåœ¨ IRC ä¸Šå‘æˆ‘ä»¬å‘é€æ¶ˆæ¯çš„ <code>IRC::Client</code> å¯¹è±¡ã€‚</p>
<p>é™¤äº† <code>irc-connected</code> æ–¹æ³•ä¹‹å¤–, è¿™ä¸ªç±»ä¹Ÿå’Œå…¶ä»–ç±»ä¸€æ ·ï¼šç”¨äºæˆ‘ä»¬çš„ GitHub API token çš„å…¬å…± <code>$.token</code> å±æ€§, ç”¨äºä¿ç•™ HTTP ç”¨æˆ·ä»£ç†å¯¹è±¡çš„ç§æœ‰ <code>$!ua</code> å±æ€§ä»¥åŠç§æœ‰çš„ <code>notification</code> æ–¹æ³•, æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨è¿™é‡Œå‘ç”Ÿçš„ã€‚</p>
<p>åœ¨ <code>notification</code> å†…éƒ¨, æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <a href="https://docs.raku.org/type/Supply">Supply</a>, å®ƒå°†å‘å¸ƒæœªè¯»é€šçŸ¥çš„æ•°é‡ã€‚å®ƒé€šè¿‡ä½¿ç”¨ <a href="https://modules.raku.org/repo/HTTP::Tinyish">HTTP::Tinyish</a> å¯¹è±¡æ¥è®¿é—® GitHub API ç«¯ç‚¹ã€‚åœ¨ç¬¬ 24 è¡Œ, å®ƒè§£ææˆåŠŸè¯·æ±‚è¿”å›çš„ JSON, å¹¶åœ¨æ¶ˆæ¯åˆ—è¡¨ä¸­æœç´¢ä»»ä½• <code>unread</code> å±æ€§è®¾ç½®ä¸º <code>true</code> çš„é¡¹ç›®ã€‚å‰ç¼€ <code>+</code> è¿ç®—ç¬¦å°†åˆ—è¡¨è½¬æ¢ä¸ºä¸€ä¸ª <code>Int</code>, å³æ‰¾åˆ°çš„æ€»é¡¹ç›®, è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä» supply ä¸­ <code>emit</code> çš„å†…å®¹ã€‚</p>
<p>å½“æˆ‘ä»¬æˆåŠŸè¿æ¥åˆ° IRC æœåŠ¡å™¨æ—¶, ä¼šè§¦å‘ <code>irc-connected</code> çš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚å…¶ä¸­, æˆ‘ä»¬å¯åŠ¨(<code>start</code>)ä¸€ä¸ªäº‹ä»¶å¾ªç¯, å½“æˆ‘ä»¬æ”¶åˆ°ç”± <code>notifications</code> æ–¹æ³•ç»™å‡ºçš„å½“å‰æœªè¯»æ¶ˆæ¯æ•°æ—¶, å°±ä¼šå¯åŠ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯è¿›è¡Œå“åº”ã€‚å› ä¸ºæˆ‘ä»¬åªå¯¹æœ‰æœªè¯»æ¶ˆæ¯çš„æƒ…å†µæ„Ÿå…´è¶£, æ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¼šåœ¨ supply ä¸Šå¼¹å‡ºä¸€ä¸ª <code>grep</code> æ¥è¿‡æ»¤æ‰æ²¡æœ‰æ¶ˆæ¯çš„æƒ…å†µï¼ˆæ²¡é”™, æˆ‘ä»¬å¯ä»¥åœ¨ç¬¬ä¸€æ—¶é—´é¿å…å‘é€è¿™äº›æ¶ˆæ¯, ä½†æˆ‘åªæ˜¯åœ¨è¿™é‡Œç‚«è€€ä¸€ä¸‹ Raku ğŸ˜¸ï¼‰ã€‚ä¸€æ—¦æœ‰æœªè¯»æ¶ˆæ¯, æˆ‘ä»¬åªéœ€è°ƒç”¨ <code>IRC::Client</code> çš„ <code>.send</code> æ–¹æ³•, è®©å®ƒå‘é€ä¸€æ¡ IRC é€šçŸ¥, å¹¶æ³¨æ˜æœªè¯»æ¶ˆæ¯çš„æ€»æ•°ã€‚çœŸæ˜¯å¤ªç¥å¥‡äº†ï¼</p>
<h2 id="åˆ«ç­‰äº†">åˆ«ç­‰äº†</h2>
<p>æˆ‘ä»¬æ¶µç›–äº†æˆ‘ä»¬å‘é€åˆ° IRC çš„å¼‚æ­¥æ•°æ®ä¾›åº”å€¼, æˆ–è€…é©¬ä¸Šå›å¤å‘½ä»¤çš„æƒ…å†µã€‚æœºå™¨äººå‘½ä»¤éœ€è¦ä¸€äº›æ—¶é—´æ¥æ‰§è¡Œçš„æƒ…å†µå¹¶ä¸å°‘è§ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹, æˆ‘ä»¬ä¸å¸Œæœ›åœ¨å‘½ä»¤æ‰§è¡Œçš„è¿‡ç¨‹ä¸­, æœºå™¨äººè¢«é”å®šã€‚</p>
<p>å¤šäºäº† Raku çš„ä¼˜ç§€çš„å¹¶å‘åŸè¯­, å®ƒå°±ä¸å¿…è¿™æ ·åšäº†ï¼å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºè¿”å›ä¸€ä¸ª <a href="https://docs.raku.org/type/Promise">Promise</a>, åˆ™å®¢æˆ·ç«¯å¯¹è±¡å°†åœ¨ä¿å­˜(kept)æ—¶ä½¿ç”¨å®ƒçš„ <code>.result</code> ä½œä¸ºå›å¤ã€‚è¿™æ„å‘³ç€, ä¸ºäº†ä½¿æˆ‘ä»¬çš„é˜»å¡äº‹ä»¶å¤„ç†ç¨‹åºä¸é˜»å¡, æˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠå®ƒçš„ä¸»ä½“å°è£…åœ¨ä¸€ä¸ª <code>start {...}</code> å—ä¸­ã€‚è¿˜æœ‰ä»€ä¹ˆèƒ½æ¯”è¿™æ›´ç®€å•å‘¢ï¼Ÿ</p>
<p>ä½œä¸ºä¸€ä¸ªä¾‹å­, è®©æˆ‘ä»¬æ¥å†™ä¸€ä¸ªæœºå™¨äººæ¥å“åº” <code>bash</code> å‘½ä»¤ã€‚è¯¥æœºå™¨äººå°†è·å– <a href="http://bash.org/?random1">bash.org/?random1</a>, è§£æå‡º HTML ä¸­çš„å¼•å·, å¹¶å°†å…¶ä¿å­˜åœ¨ç¼“å­˜ä¸­ã€‚å½“å‘½ä»¤è¢«è§¦å‘æ—¶, æœºå™¨äººä¼šæŠŠå…¶ä¸­çš„ä¸€ä¸ªå¼•å·é€’é€å‡ºå», å½“ç¼“å­˜ç”¨å®Œæ—¶, é‡å¤æå–ã€‚ç‰¹åˆ«æ˜¯, æˆ‘ä»¬ä¸å¸Œæœ›æœºå™¨äººåœ¨æ£€ç´¢å’Œè§£æç½‘é¡µçš„è¿‡ç¨‹ä¸­å‡ºç°é˜»å¡ã€‚ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ï¼š</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;
use Mojo::UserAgent:from&lt;Perl5&gt;;

class Bash {
    constant $BASH_URL = 'http://bash.org/?random1';
    constant $cache    = Channel.new;
    has        $!ua    = Mojo::UserAgent.new;

    multi method irc-to-me ($ where /bash/) {
        start $cache.poll or do { self!fetch-quotes; $cache.poll };
    }

    method !fetch-quotes {
        $cache.send: $_
            for $!ua.get($BASH_URL).res.dom.find('.qt').eachÂ».all_text.lines.join: '  ';
    }
}

.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#raku&gt;
    :debug
    :plugins(Bash.new)
</code></pre><pre><code>&lt;Zoffix&gt; MahBot, bash
&lt;MahBot&gt; Zoffix, &lt;Time&gt; that reminds me of when Manning and I installed OS/2 Warp4 on a box and during the install routine it said something to the likes of 'join the hundreds of people on the internet'
</code></pre><p>ä¸ºäº†æ»¡è¶³é¡µé¢æŠ“å–çš„éœ€æ±‚, æˆ‘é€‰æ‹©äº† Perl 5 çš„ <a href="https://metacpan.org/pod/Mojo::UserAgent">Mojo::UserAgent</a>, å› ä¸ºå®ƒæœ‰å†…ç½®äº†ä¸€ä¸ª HTML è§£æå™¨ã€‚ <code>:from&lt;Perl5&gt;</code> å‰¯è¯å‘ç¼–è¯‘å™¨æŒ‡ç¤ºæˆ‘ä»¬è¦åŠ è½½ä¸€ä¸ª Perl 5 æ¨¡å—, è€Œä¸æ˜¯ Raku æ¨¡å—ã€‚</p>
<p>ç”±äºæˆ‘ä»¬æ˜¯å¤šçº¿ç¨‹çš„, å› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ª <a href="https://docs.raku.org/type/Channel">Channel</a> ä½œä¸ºçº¿ç¨‹å®‰å…¨é˜Ÿåˆ—æ¥è¿›è¡Œç¼“å­˜ã€‚æˆ‘ä»¬è®¢é˜…äº†æ–‡å­—åŒ…å«å•è¯ <code>bash</code> çš„ <code>irc-to-me</code> äº‹ä»¶ã€‚å½“äº‹ä»¶å¤„ç†ç¨‹åºè¢«è§¦å‘æ—¶, æˆ‘ä»¬ä½¿ç”¨ <code>start</code> å…³é”®å­—å¼¹å‡ºåˆ°ä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚ç„¶å, æˆ‘ä»¬ä¼šè½®è¯¢(<code>.poll</code>)æˆ‘ä»¬çš„ç¼“å­˜å¹¶ä½¿ç”¨ç¼“å­˜å€¼ï¼ˆå¦‚æœæˆ‘ä»¬æœ‰ç¼“å­˜å€¼çš„è¯ï¼‰, å¦åˆ™, é€»è¾‘å°†è½¬ç§»åˆ°è°ƒç”¨ <code>fetch-quotes</code> ç§æœ‰æ–¹æ³•çš„ <code>do</code> å—ä¸Š, å¹¶åœ¨å®Œæˆæ—¶å†æ¬¡è½®è¯¢ç¼“å­˜, è·å¾—æ–°çš„å¼•ç”¨ã€‚æ‰€æœ‰çš„äº‹æƒ…å®Œæˆå, å¼•ç”¨å°†æ˜¯æˆ‘ä»¬ä»äº‹ä»¶å¤„ç†ç¨‹åºè¿”å›çš„ <code>Promise</code> çš„ç»“æœã€‚</p>
<p><code>fetch-quotes</code> æ–¹æ³•å¯åŠ¨æˆ‘ä»¬çš„ <code>Mojo::UserAgent</code> å¯¹è±¡, ä»ç½‘ç«™ä¸Šè·å–éšæœºå¼•ç”¨é¡µé¢, æ‰¾åˆ°æ‰€æœ‰å¸¦ <code>class=&quot;qt&quot;</code> çš„ HTML å…ƒç´  - è¿™äº›æ˜¯å¸¦å¼•å·çš„æ®µè½ã€‚ç„¶å, æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª hyper æ–¹æ³•è°ƒç”¨å°†è¿™äº›æ®µè½è½¬æ¢ä¸ºæ–‡æœ¬, å¹¶é€šè¿‡ <code>for</code> å¾ªç¯å°†æœ€ç»ˆåˆ—è¡¨æä¾›ç»™æˆ‘ä»¬çš„ <code>$cache Channel</code>ã€‚å°±è¿™æ ·, æˆ‘ä»¬å°†æˆ‘ä»¬çš„æœºå™¨äººæ— é˜»å¡åœ°è¿æ¥åˆ° IRC ä¸–ç•Œçš„å®¿ä¸»ä¸Šäº†ã€‚è¯´åˆ°è¿™é‡Œ, ä½ å¯èƒ½è¦è¿‡æ»¤ä¸€ä¸‹&hellip;</p>
<h2 id="æ³¨æ„ä½ çš„è¨€è¡Œ">æ³¨æ„ä½ çš„è¨€è¡Œï¼</h2>
<p>å¦‚æœæˆ‘ä»¬çš„æœºå™¨äººå‘é¢‘é“å–·å‡ºå¤§é‡çš„è¾“å‡º, æˆ‘ä»¬çš„æœºå™¨äººå¾ˆå¿«å°±ä¼šè¢«ç¦æ­¢ã€‚ä¸€ä¸ªæ˜æ˜¾çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨æˆ‘ä»¬çš„æ’ä»¶ä¸­åŠ å…¥é€»è¾‘, å¦‚æœè¾“å‡ºé‡è¿‡å¤§, å°±ä¼šä½¿ç”¨ pastebinã€‚ç„¶è€Œ, åœ¨æˆ‘ä»¬ç¼–å†™çš„æ¯ä¸€ä¸ªæ’ä»¶ä¸­æ·»åŠ è¿™æ ·çš„ä¸œè¥¿æ˜¯éå¸¸ä¸ç°å®çš„ã€‚å¹¸è¿çš„æ˜¯, <code>IRC::Client</code> å·²ç»æ”¯æŒè¿‡æ»¤å™¨äº†ï¼</p>
<p>å¯¹äºä»»ä½•å‘å‡º <code>NOTICE</code> æˆ– <code>PRIVMSG</code> IRC å‘½ä»¤çš„æ–¹æ³•, <code>IRC::Client</code> éƒ½ä¼šé€šè¿‡ <code>:filters</code> å±æ€§å°†è¾“å‡ºé€šè¿‡ç±»ä¼ é€’ç»™å®ƒ ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªè¿‡æ»¤å™¨, æ— è®ºå®ƒæ¥è‡ªå“ªä¸ªæ’ä»¶, éƒ½ä¼šè‡ªåŠ¨ç²˜è´´å¤§å®¹é‡çš„è¾“å‡ºã€‚</p>
<p>æˆ‘ä»¬å°†é‡æ–°ä½¿ç”¨æˆ‘ä»¬çš„ bash.org å¼•ç”¨æœºå™¨äºº, åªæ˜¯è¿™æ¬¡å®ƒä¼šå°†å¤§é‡å¼•ç”¨ç²˜è´´åˆ° <a href="pastebin::Shadowcat">Shadowcat pastebin</a> ä¸­ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›ä»£ç å§ï¼</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;
use Pastebin::Shadowcat;
use Mojo::UserAgent:from&lt;Perl5&gt;;

class Bash {
    constant $BASH_URL = 'http://bash.org/?random1';
    constant $cache    = Channel.new;
    has        $!ua    = Mojo::UserAgent.new;

    multi method irc-to-me ($ where /bash/) {
        start $cache.poll or do { self!fetch-quotes; $cache.poll };
    }

    method !fetch-quotes {
        $cache.send: $_
            for $!ua.get($BASH_URL).res.dom.find('.qt').eachÂ».all_text;
    }
}

.run with IRC::Client.new:
    :nick&lt;MahBot&gt;
    :host&lt;irc.freenode.net&gt;
    :channels&lt;#zofbot&gt;
    :debug
    :plugins(Bash.new)
    :filters(
        -&gt; $text where .lines &gt; 1 || .chars &gt; 300 {
            Pastebin::Shadowcat.new.paste: $text.lines.join: &quot;\n&quot;;
        }
    )
</code></pre><pre><code>&lt;Zoffix&gt; MahBot, bash
&lt;MahBot&gt; Zoffix, &lt;intuit&gt; hmm maybe sumtime next week i will go outside'
&lt;Zoffix&gt; MahBot, bash
&lt;MahBot&gt; Zoffix, http://fpaste.scsys.co.uk/528741
</code></pre><p>å®Œæˆæ‰€æœ‰è¿‡æ»¤å·¥ä½œçš„ä»£ç å¾ˆå°, å¾ˆå®¹æ˜“å‡ºé”™ - å°±æ˜¯ä¸Šé¢ç¨‹åºä¸­çš„æœ€å5è¡Œã€‚ <code>:filters</code> å±æ€§æ¥æ”¶ä¸€ä¸ª <a href="https://docs.raku.org/type/Callable">Callables</a> åˆ—è¡¨, è¿™é‡Œæˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªå°–å·å—ã€‚åœ¨å®ƒçš„ç­¾åä¸­, æˆ‘ä»¬å°†æ–‡æœ¬é™åˆ¶ä¸ºè¶…è¿‡ 1 è¡Œæˆ–è¶…è¿‡ 300 ä¸ªå­—ç¬¦, å› æ­¤åªæœ‰æ»¡è¶³è¿™äº›æ¡ä»¶æ—¶, æˆ‘ä»¬çš„è¿‡æ»¤å™¨æ‰ä¼šè¿è¡Œã€‚åœ¨è¿™ä¸ªå—ä¸­, æˆ‘ä»¬åªéœ€ä½¿ç”¨ <a href="https://modules.raku.org/repo/Pastebin::Shadowcat">Pastebin::Shadowcat</a> æ¨¡å—å°†è¾“å‡ºæ‰”åˆ° pastebin ä¸­ã€‚å®ƒçš„ <code>.paste</code> æ–¹æ³•è¿”å›æ–°åˆ›å»ºçš„ç²˜è´´çš„ URL, æˆ‘ä»¬çš„è¿‡æ»¤å™¨å°†ç”¨å®ƒæ¥æ›¿æ¢åŸå§‹å†…å®¹ã€‚éå¸¸æ£’ï¼</p>
<h2 id="åƒé»„æ²¹ä¸€æ ·æ‰©æ•£">åƒé»„æ²¹ä¸€æ ·æ‰©æ•£</h2>
<p>åœ¨è¿‡å», å½“æˆ‘ä½¿ç”¨å…¶ä»– IRC å®¢æˆ·ç«¯å·¥å…·æ—¶, æ¯å½“æœ‰äººè¦æ±‚æˆ‘æŠŠæœºå™¨äººæ”¾åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šæ—¶, è¿‡ç¨‹å¾ˆç®€å•ï¼šæŠŠä»£ç å¤åˆ¶åˆ°å¦ä¸€ä¸ªç›®å½•ä¸‹, ä¿®æ”¹é…ç½®, å°±å¯ä»¥äº†ã€‚è¿™å‡ ä¹æ˜¯æœ‰é“ç†çš„, æ–°æœåŠ¡å™¨æ„å‘³ç€ä¸€ä¸ª&quot;æ–°&rdquo; çš„æœºå™¨äººï¼šä¸åŒçš„é¢‘é“ã€ä¸åŒçš„æ˜µç§°ç­‰ç­‰ã€‚</p>
<p>åœ¨ Raku çš„ IRC::Client ä¸­, æˆ‘å°è¯•é‡æ–°æƒ³è±¡äº†ä¸€ä¸‹ï¼šæœåŠ¡å™¨åªæ˜¯æ¶ˆæ¯çš„å¦ä¸€ä¸ªæ ‡è¯†ç¬¦, è¿˜æœ‰ä¸€ä¸ªé¢‘é“æˆ–æ˜µç§°ã€‚è¿™æ„å‘³ç€æŠŠä½ çš„æœºå™¨äººè¿æ¥åˆ°å¤šä¸ªæœåŠ¡å™¨, å°±å¦‚åŒé€šè¿‡ <code>:server</code> å±æ€§æ·»åŠ æ–°çš„æœåŠ¡å™¨é…ç½®ä¸€æ ·ç®€å•ï¼š</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;

class BFF {
    method irc-to-me ($ where /'â™¥'/) { 'I â™¥ YOU!' }
}

.run with IRC::Client.new:
    :debug
    :plugins(BFF)
    :nick&lt;MahBot&gt;
    :channels&lt;#zofbot&gt;
    :servers(
        freenode =&gt; %(
            :host&lt;irc.freenode.net&gt;,
        ),
        local =&gt; %(
            :nick&lt;P6Bot&gt;,
            :channels&lt;#zofbot #raku&gt;,
            :host&lt;localhost&gt;,
        )
    )
</code></pre><pre><code>[on Freenode server]
&lt;ZoffixW&gt; MahBot, I â™¥ you
&lt;MahBot&gt; ZoffixW, I â™¥ YOU!

[on local server]
&lt;ZoffixW&gt; P6Bot, I â™¥ you
&lt;P6Bot&gt; ZoffixW, I â™¥ YOU!
</code></pre><p>é¦–å…ˆ, æˆ‘ä»¬çš„æ’ä»¶ä»ç„¶æ²¡æœ‰æ„è¯†åˆ°å®ƒæ­£åœ¨åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿è¡Œã€‚å®ƒçš„å›å¤è¢«é‡å®šå‘åˆ°æ­£ç¡®çš„æœåŠ¡å™¨, <code>IRC::Client</code> ä»ç„¶ä»¥çº¿ç¨‹å®‰å…¨çš„æ–¹å¼æ‰§è¡Œå®ƒçš„æ–¹æ³•å¤„ç†ç¨‹åºã€‚</p>
<p>åœ¨ <code>IRC::Client</code> çš„æ„é€ å‡½æ•°ä¸­, æˆ‘ä»¬æ·»åŠ äº†æ¥æ”¶ <code>Hash</code> çš„ <code>:servers</code> å±æ€§ã€‚è¿™ä¸ª <code>Hash</code> çš„é”®æ˜¯æœåŠ¡å™¨çš„æ ‡ç­¾, å€¼æ˜¯æœåŠ¡å™¨ç‰¹å®šçš„é…ç½®, å¯è¦†ç›–å…¨å±€è®¾ç½®ã€‚æ‰€ä»¥, <code>freenode</code> æœåŠ¡å™¨ä»æˆ‘ä»¬æä¾›ç»™ <code>IRC::Client</code> çš„ <code>:nick</code> å’Œ <code>:channels</code> å±æ€§è·å–å®ƒçš„ <code>:nick</code> å’Œ <code>:channels</code> å±æ€§, è€Œ <code>local</code> æœåŠ¡å™¨ä½¿ç”¨å®ƒè‡ªå·±çš„å€¼è¦†ç›–è¿™äº›å±æ€§ã€‚</p>
<p>ç°åœ¨, è°ƒè¯•è¾“å‡ºä¸­ä¼šæ‰“å°å‡ºæœåŠ¡å™¨æ ‡ç­¾, ä»¥æŒ‡ç¤ºè¯¥äº‹ä»¶é€‚ç”¨äºå“ªä¸ªæœåŠ¡å™¨ï¼š</p>
<p><img src="https://perl6.party/assets/pics/irc-bot/debug-output3.png" alt="img"></p>
<p>å°±è¿™æ ·, ä½†åªæ˜¯ç®€å•åœ°å‘Šè¯‰æœºå™¨äººè¿æ¥åˆ°å¦ä¸€å°æœåŠ¡å™¨, æˆ‘ä»¬å°±æŠŠå®ƒå˜æˆäº†å¤šæœåŠ¡å™¨, è€Œæ²¡æœ‰å¯¹æˆ‘ä»¬çš„æ’ä»¶åšä»»ä½•æ”¹åŠ¨ã€‚ä½†æ˜¯, å½“æˆ‘ä»¬çœŸçš„è¦å’Œç‰¹å®šçš„æœåŠ¡å™¨å¯¹è¯æ—¶, æˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<h2 id="å‘é€å®ƒçš„æ–¹å¼">å‘é€å®ƒçš„æ–¹å¼</h2>
<p>å½“æœºå™¨äººè¢« <code>.run</code> æ—¶, å®¢æˆ·ç«¯å¯¹è±¡ä¼šå°† <code>:servers</code> å±æ€§çš„å€¼å˜ä¸º <code>IRC::Client::Server</code> å¯¹è±¡ã€‚è¿™äº›å­—ç¬¦ä¸²åŒ–ä¸ºå®ƒä»¬æ‰€ä»£è¡¨çš„æœåŠ¡å™¨çš„æ ‡ç­¾, æˆ‘ä»¬å¯ä»¥ä»æ¶ˆæ¯å¯¹è±¡çš„ <code>.server</code> å±æ€§æˆ–å®¢æˆ·ç«¯å¯¹è±¡çš„ <code>.servers</code> hash å±æ€§ä¸­è·å–ã€‚å®¢æˆ·ç«¯å¯¹è±¡çš„æ–¹æ³•ï¼ˆå¦‚ <code>.send</code> æˆ– <code>.join</code>ï¼‰éƒ½æ¥æ”¶ä¸€ä¸ªå¯é€‰çš„ <code>server</code> å±æ€§æ¥æ§åˆ¶æ¶ˆæ¯å°†è¢«å‘é€åˆ°å“ªä¸ªæœåŠ¡å™¨, é»˜è®¤å€¼ä¸º <code>*</code>, ä¹Ÿå°±æ˜¯å‘é€åˆ°æ¯ä¸ªæœåŠ¡å™¨ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªè¿æ¥åˆ°ä¸¤å°æœåŠ¡å™¨å¹¶åŠ å…¥å‡ ä¸ªé¢‘é“çš„æœºå™¨äººã€‚æ¯å½“å®ƒçœ‹åˆ°ä¸€æ¡é¢‘é“æ¶ˆæ¯æ—¶, å®ƒå°±ä¼šæŠŠå®ƒè½¬å‘åˆ°å…¶ä»–æ‰€æœ‰çš„é¢‘é“, å¹¶åœ¨ç”± <code>local</code> æ ‡ç­¾æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šå‘ç”¨æˆ· <code>Zoffix</code> å‘é€ä¸€æ¡ç§ä¿¡ã€‚</p>
<pre><code class="language-raku" data-lang="raku">use IRC::Client;

class Messenger does IRC::Client::Plugin {
    method irc-privmsg-channel ($e) {
        for $.irc.servers.values -&gt; $server {
            for $server.channels -&gt; $channel {
                next if $server eq $e.server and $channel eq $e.channel;

                $.irc.send: :$server, :where($channel), :text(
                    &quot;$e.nick() over at $e.server.host()/$e.channel() says $e.text()&quot;
                );
            }
        }

        $.irc.send: :where&lt;Zoffix&gt;
                    :text('I spread the messages!')
                    :server&lt;local&gt;;
    }
}

.run with IRC::Client.new:
    :debug
    :plugins[Messenger.new]
    :nick&lt;MahBot&gt;
    :channels&lt;#zofbot&gt;
    :servers{
        freenode =&gt; %(
            :host&lt;irc.freenode.net&gt;,
        ),
        local =&gt; %(
            :nick&lt;P6Bot&gt;,
            :channels&lt;#zofbot #raku&gt;,
            :host&lt;localhost&gt;,
        )
    }
</code></pre><pre><code>[on Freenode server/#zofbot]
&lt;ZoffixW&gt; Yey!
[on local server/#zofbot]
&lt;P6Bot&gt; ZoffixW over at irc.freenode.net/#zofbot says Yey!
[on local server/#raku]
&lt;P6Bot&gt; ZoffixW over at irc.freenode.net/#zofbot says Yey!
[on local server/ZoffixW private message queue]
&lt;P6Bot&gt; I spread the messages!
</code></pre><p>æˆ‘ä»¬è®¢é˜…äº† <code>irc-privmsg-channel</code> äº‹ä»¶, å½“å®ƒè¢«è§¦å‘æ—¶, æˆ‘ä»¬ä¼šéå†æ‰€æœ‰çš„æœåŠ¡å™¨ã€‚å¯¹äºæ¯å°æœåŠ¡å™¨, æˆ‘ä»¬å¾ªç¯éå†æ‰€æœ‰è¿æ¥çš„é¢‘é“, å¹¶ä½¿ç”¨ <code>$.irc.send</code> æ–¹æ³•å‘è¯¥é¢‘é“å’ŒæœåŠ¡å™¨å‘é€æ¶ˆæ¯, é™¤éæœåŠ¡å™¨å’Œé¢‘é“ä¸æ¶ˆæ¯çš„æ¥æºç›¸åŒã€‚</p>
<p>æ¶ˆæ¯æœ¬èº«ä¼šè°ƒç”¨æ¶ˆæ¯å¯¹è±¡ä¸Šçš„ <code>.nick</code>, <code>.channel</code> å’Œ <code>.server.host</code> æ–¹æ³•æ¥è¯†åˆ«æ¶ˆæ¯çš„å‘é€è€…å’Œæ¥æºã€‚</p>
<h2 id="ç»“è®º">ç»“è®º</h2>
<p>Raku æä¾›äº†å¼ºå¤§çš„å¹¶å‘åŸè¯­, è°ƒåº¦æ–¹æ³•å’Œè‡ªçœåŠŸèƒ½, ä½¿ä½ å¯ä»¥æ„å»ºå‡ºä»¤äººæƒŠå¹çš„éé˜»å¡ã€åŸºäºäº‹ä»¶çš„æ¥å£ã€‚<code>IRC::Client</code> å°±æ˜¯å…¶ä¸­ä¹‹ä¸€, å®ƒå¯ä»¥è®©ä½ ä½¿ç”¨ IRC ç½‘ç»œã€‚å®ƒå°±åœ¨è¿™é‡Œã€‚å®ƒ å·²ç»å‡†å¤‡å¥½äº†ã€‚ä½¿ç”¨å®ƒå§ï¼</p>
<p>åŸæ–‡åœ°å€: <a href="https://perl6.party/post/IRC-Client-Perl-6-Multi-Server-IRC-Module">https://perl6.party/post/IRC-Client-Perl-6-Multi-Server-IRC-Module</a></p>


        
          <div class="blog-tags">
            
              <a href="https://ohmysummer.github.io//tags/raku/">Raku</a>&nbsp;
            
              <a href="https://ohmysummer.github.io//tags/irc/">IRC</a>&nbsp;
            
          </div>
        

        

        
          
            
          

          
                  <h4 class="see-also"></h4>
                  <ul>
                
                
                    <li><a href="/post/2019-07-31-parse-with-raku-regexes-and-grammars/">Parse with Raku Regexes and Grammars</a></li>
                
                    <li><a href="/post/2019-07-16-encode-decode/">Encode-Decode</a></li>
                
                    <li><a href="/post/2019-06-29-odd-even-sort-in-raku/">Raku ä¸­çš„ å¥‡å¶æ’åº</a></li>
                
                    <li><a href="/post/2019-06-27-pancake-sort-in-raku/">Raku ä¸­çš„ç…é¥¼æ’åº</a></li>
                
                    <li><a href="/post/2019-06-28-gnome-sort-in-raku/">Raku ä¸­çš„ Gnome sort</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://ohmysummer.github.io/post/2018-04-16-cro-http-client/" data-toggle="tooltip" data-placement="top" title="Cro::HTTP::Client">&larr; </a>
            </li>
          
          
            <li class="next">
              <a href="https://ohmysummer.github.io/post/2018-05-05-datetime/" data-toggle="tooltip" data-placement="top" title="DateTime"> &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ohmysummer" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://ohmysummer.github.io/">ç„‰çŸ¥éé±¼</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://ohmysummer.github.io/">Raku Programming</a>
            with <span style="color: red;">â¤</span>
          
        </p>
        
        <p class="credits theme-by text-muted">
          
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://ohmysummer.github.io/js/main.js"></script>
<script src="https://ohmysummer.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://ohmysummer.github.io/js/load-photoswipe.js"></script>



<script>
  (function() {
    var cx = '009072066163920799339:qwme9vkotxk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>







    
  </body>
</html>

