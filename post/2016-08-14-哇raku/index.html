<!DOCTYPE html>
<html lang="zh" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>哇, Raku! - Raku Programming</title>
  <meta name="description" content="前言 Slides 地址 视频地址">
  <meta name="author" content="焉知非鱼"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Raku Programming",
    
    "url": "https:\/\/ohmysummer.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/ohmysummer.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/ohmysummer.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/ohmysummer.github.io\/post\/2016-08-14-%E5%93%87raku\/",
          "name": "哇, raku!"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "焉知非鱼"
  },
  "headline": "哇, Raku!",
  "description" : "前言 Slides 地址 视频地址",
  "inLanguage" : "zh",
  "wordCount":  2908 ,
  "datePublished" : "2016-08-14T13:14:00",
  "dateModified" : "2016-08-14T13:14:00",
  "image" : "https:\/\/ohmysummer.github.io\/img\/rakudo.png",
  "keywords" : [ "惰性列表, Junctions" ],
  "mainEntityOfPage" : "https:\/\/ohmysummer.github.io\/post\/2016-08-14-%E5%93%87raku\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/ohmysummer.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/ohmysummer.github.io\/img\/rakudo.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="哇, Raku!" />
<meta property="og:description" content="前言 Slides 地址 视频地址">
<meta property="og:image" content="https://ohmysummer.github.io/img/rakudo.png" />
<meta property="og:url" content="https://ohmysummer.github.io/post/2016-08-14-%E5%93%87raku/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Raku Programming" />

  <meta name="twitter:title" content="哇, Raku!" />
  <meta name="twitter:description" content="前言 Slides 地址 视频地址">
  <meta name="twitter:image" content="https://ohmysummer.github.io/img/rakudo.png" />
  <meta name="twitter:card" content="summary" />
  <link href='https://ohmysummer.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.79.0" />
  <link rel="alternate" href="https://ohmysummer.github.io/index.xml" type="application/rss+xml" title="Raku Programming"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://ohmysummer.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://ohmysummer.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://ohmysummer.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'ohmycloudy', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://ohmysummer.github.io/">Raku Programming</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="博客" href="/">博客</a>
            </li>
          
        
          
            <li>
              <a title="归档" href="/categories">归档</a>
            </li>
          
        
          
            <li>
              <a title="关于" href="/page/about/">关于</a>
            </li>
          
        
          
            <li>
              <a title="标签" href="/tags">标签</a>
            </li>
          
        

        

        
          <li>
            <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg"></span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Raku Programming" href="https://ohmysummer.github.io/">
            <img class="avatar-img" src="https://ohmysummer.github.io/img/rakudo.png" alt="Raku Programming" />
          </a>
        </div>
      </div>
    

  </div>
</nav>



  <div id="modalSearch" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title"></h4>
        </div>
        <div class="modal-body">
          <gcse:search></gcse:search>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal"></button>
        </div>
      </div>
    </div>
  </div>


    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>哇, Raku!</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;14&nbsp;
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;2908&nbsp;
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;焉知非鱼
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <h2 id="前言"><strong>前言</strong></h2>
<p><a href="http://tpm2016.zoffix.com/#/1">Slides 地址</a>
<a href="https://www.youtube.com/watch?v=paa3niF72Nw">视频地址</a></p>
<p><a href="http://blogs.perl.org/users/zoffix_znet/2016/03/wow-perl-6-talk-slides-recording-and-answers-to-questions.html">答案地址</a></p>
<h2 id="注意-unicode"><strong>注意</strong> Unicode </h2>
<p>Raku 允许你使用 Unicode 的项和操作符。
这些 Unicode 都有对应的只使用 ASCII 字符的 Texas 变体, 如果你更喜欢使用它们, 到 <a href="http://docs.raku.org/language/unicode_texas">http://docs.raku.org/language/unicode_texas</a> 找到它们。</p>
<h2 id="惰性列表和它们的使用"><strong>惰性列表和它们的使用</strong></h2>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-b8abf1b05dbb2b7e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<p>##  <strong>惰性列表</strong></p>
<p>我们来做点儿疯狂的事情吧&hellip;例如创建一个无限列表(INIFINITE LIST)!</p>
<pre><code class="language-raku" data-lang="raku">my @to-infinity-and-beyond = 0, 2 ... ∞;
say @to-infinity-and-beyond[1008]; # 2016
</code></pre><p>来点更有用的东西: 处理大文件</p>
<pre><code class="language-raku" data-lang="raku">for '/tmp/4GB-file.txt'.IO.words {
    .say;
    last if ++$ == 3;
}
say &quot;Code took {now - INIT now} seconds to run&quot;;

# OUTPUT:
# foo
# bar
# ber
# Code took 0.01111143 seconds to run
</code></pre><pre><code class="language-raku" data-lang="raku">.say for '/tmp/4GB-file.txt'.IO.words[0..2];
say &quot;Code took {now - INIT now} seconds to run&quot;;

# OUTPUT:
# foo
# bar
# ber
# Code took 0.01111143 seconds to run
</code></pre><h2 id="塑造你自己的-subsets-自定义操作符-muti-dispatch"><strong>塑造你自己的</strong> Subsets, <strong>自定义操作符</strong>, Muti-dispatch</h2>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-be2bf4d1cd691330.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<h3 id="subsets">Subsets</h3>
<p>类型的 subset 使你可以约束它能接收的值:</p>
<pre><code class="language-raku" data-lang="raku">subset BigPrime of Int where { $_ &gt; 10_000 and .is-prime }

sub MAIN ( BigPrime $num ) {
    say &quot;That's a nice-looking prime number you got there!&quot;;
}
</code></pre><pre><code>$ raku test.p6 3
Usage:
  test.p6 &lt;num&gt;
$ raku test.p6 31337
That's a nice-looking prime number you got there!
$ raku test.p6 100000
Usage:
  test.p6 &lt;num&gt;
</code></pre><h3 id="multi-dispatch">Multi-Dispatch</h3>
<p>多个同名的 subs 或 方法, 但是拥有不同的参数:</p>
<pre><code class="language-raku" data-lang="raku">subset Prime      of Int   where *.is-prime;
subset BigPrime   of Prime where * &gt;  10_000;
subset SmallPrime of Prime where * &lt;= 10_000;

multi MAIN ( BigPrime   $num ) { say &quot;Prime number! Nice and big&quot;; }
multi MAIN ( SmallPrime $num ) { say &quot;Puny prime number&quot;;          }
multi MANI (            $num ) { say &quot;Gimme primes&quot;;               }
</code></pre><pre><code>$ raku test.p6 42
Gimme primes!
$ raku test.p6 7
Puny prime number
$ raku test.p6 31337
Prime number! Nice and big
</code></pre><pre><code class="language-raku" data-lang="raku">class Numbers {
    multi method id ( Numeric $num ) { say &quot;$num is a number&quot;       }
    multi method id (         $num ) { say &quot;$num is something else&quot; }
}

Numeric.new.id:  π;
Numbers.new.id: 'blah';

# OUTPUT:
# 3.14159265358979 is a number
# blah is something else
</code></pre><p>扩展方法的功能性:</p>
<pre><code class="language-raku" data-lang="raku">class Numbers {
    multi method id ( Numeric $num ) { say &quot;$num is a number&quot;       }
    multi method id (        $num  ) { say &quot;$num is something else&quot; }
}

class SmarterNumbers is Numbers {
    multi method id (Numeric $num where * ==  π ) { say &quot;Mmmm yummy pie!&quot; }
}

SmarterNumbers.new.id: 42;
SmarterNumbers.new.id: π;
SmarterNumbers.new.id: 'blah';

# OUTPUT:
# 42 is a number
# Mmmm yummy pie!
# blah is something else
</code></pre><h3 id="custom-terms-and-operators">Custom Terms and Operators</h3>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-b310dac691db4f59.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<pre><code class="language-raku" data-lang="raku">sub infix:&lt;¯\(°_o)/¯&gt; {
     ($^a, $^b).pick
 }

say 'Coke' ¯\(°_o)/¯ 'Pepsi';

# OUTPUT:
# Pepsi
</code></pre><p>操作符分类: <code>infix</code>, <code>prefix</code>, <code>postfix</code>,<code>circumfix</code>, <code>postcircumfix</code>  并且你还能把  <code>term</code> 用于项中。</p>
<pre><code class="language-raku" data-lang="raku">sub prefix:&lt;∑&gt; (*@els) { @els.sum }
say ∑ 1, 2, 3, 4;

# OUTPUT:
# 1234
</code></pre><p>看起来并没有很好地起作用&hellip;</p>
<pre><code class="language-raku" data-lang="raku">sub prefix:&lt;∑&gt; (*@els) is looser(&amp;infix:&lt;,&gt;) { @els.sum }
say ∑ 1, 2, 3, 4;

# OUTPUT:
# 10
</code></pre><p>使用 <code>is looser</code> 或 <code>is tighter</code> 来更改优先级。默认的优先级和那个位置上的 <code>+</code>/<code>++</code> 操作符的优先级相同。(查看 <a href="https://doc.raku.org/language/functions#Associativity">docs</a> 以使用 <code>is assoc</code> trait 更改结合性。)</p>
<p>One More Example:</p>
<pre><code class="language-raku" data-lang="raku"> sub term:&lt;ξ&gt; { (^10 + 1).pick; }
 sub postcircumfix:&lt;❨  ❩&gt; ($before, $inside) is rw {
     $before{$inside};
 }

 my %hash = :foo&lt;bar&gt;, :meow&lt;moo&gt;;
 %hash❨'foo'❩  = ξ;
 %hash❨'meow'❩ = ξ;

say %hash;

# OUTPUT:
# foo =&gt; 6, meow =&gt; 8
</code></pre><p>重写已经存在的操作符:</p>
<pre><code class="language-raku" data-lang="raku">sub infix:&lt;+&gt; (Int $a, Int $b) { $a - $b };
say 2 + 2;

# OUTPUT:
# 0
</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/326727-71e3d5f44f434c2c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<p>不要担心… 这个效果是本地作用域的(lexically scoped!)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-815a894031734d6c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<pre><code class="language-raku" data-lang="raku">class Thingamagig { has $.value };

multi infix:&lt;~&gt; (Thingamagig $a, Str $b) {
    $a.value ~ $b
}

my $thing = Thingamagig.new: value =&gt; 'thingamagig';
say 'foo' ~ 'bar';
say $thing ~ 'bar';
say 'bar' ~ $thing;

# OUTPUT:
# foobar
# thingamagigbar
# barThingamagig&lt;139870715547680&gt;
</code></pre><p>查看 <a href="https://github.com/zoffixznet/raku-Color/blob/master/lib/Color/Operators.pm6">Color::Operators</a> 模块获取更多例子。</p>
<h2 id="hyperspace">Hyperspace</h2>
<h3 id="multi-core-processing-at-a-touch-of-a-button">Multi-core processing at a touch of a button</h3>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-be2f92ec80152cf1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<h3 id="超运算符">超运算符</h3>
<p>它们看起来像 <code>«</code> 和 <code>»</code> 你能在这儿看到它们的 <a href="http://rakumaven.com/tutorial/raku-hyper-operators">解释</a> :</p>
<pre><code class="language-raku" data-lang="raku">      (1, 2) «+« (3)
      (1, 2) »+» 1
(1, 2, 3, 4) «+» (1, 2)
</code></pre><p>那些操作符暂时还不是多线程的, if at all。相反, 我要谈论的变体是这个:</p>
<pre><code class="language-raku" data-lang="raku">@foo».bar
</code></pre><p>假设你想把数组中的每个字符串都转为大写然后把那个数组分割为子列表, 每个子列表含有 3 个元素:</p>
<pre><code class="language-raku" data-lang="raku">my @a = &lt;one two three four five six seven eight nine&gt;;
say @a.map({ .uc}).rotor: 3;

# OUTPUT:
# ((ONE TWO THREE) (FOUR FIVE SIX) (SEVEN EIGHT NINE))
</code></pre><p>很好很简短, 但是假设你想在上千个元素身上调用耗时更多的方法呢?</p>
<p>那么就在方法调用前使用一个 hyper 操作符好了:</p>
<pre><code class="language-raku" data-lang="raku">my @a =  &lt;one two three four five six  seven eight nine&gt;;
say @a».uc.rotor: 3;

# OUTPUT:
# ((ONE TWO THREE) (FOUR FIVE SIX) (SEVEN EIGHT NINE))
</code></pre><p>在点号方法调用前面放上一个 » 那么你所调用的方法会在每个元素身上单独调用。链式调用中更远的那个方法会在数组(列表等)身上调用, 除非它们也是 hypered。</p>
<h3 id="hyper-seqs">Hyper Seqs</h3>
<p>假如你想在多核上对一堆东西上&quot;做事情&quot;呢?  遍历一个 <code>HyperSeq</code>。你可以调用下面的两者之一得到一个 HyperSeq:</p>
<ul>
<li><code>.hyper</code>— 保留元素顺序</li>
<li><code>.race</code>—   不保留元素顺序</li>
</ul>
<p>遍历一个 4-元素的序列, 每个元素睡眠 1 秒钟:</p>
<pre><code class="language-raku" data-lang="raku">for (1..4).race( batch =&gt; 1 ) {
    say &quot;Doing $_&quot;;
    sleep 1;
}
say &quot;Code took {now - INIT now} seconds to run&quot;;

# OUTPUT:
# Doing 1
# Doing 3
# Doing 2
# Doing 4
# Code took 1.0090415 seconds to run
</code></pre><p>代码只是运行了 1秒多!</p>
<p><code>.hyper</code>  同样, 但是它保留了结果序列中元素的顺序。</p>
<h3 id="autothreaded-junctions">Autothreaded junctions</h3>
<ul>
<li>Logical superposition of values</li>
</ul>
<p>某些逻辑检查的代码:</p>
<pre><code class="language-raku" data-lang="raku">my @valid = &lt;foo bar baz&gt;;
my $what = 'ber';
say &quot;$what is not valid&quot; if not @valid.grep: { $what eq $_ };
say &quot;A ber or a bar&quot;     if $what eq 'ber' or $what eq 'bar';

# OUTPUT:
# ber is not valid
# A ber or a bar
</code></pre><ul>
<li>Autothreaded junctions</li>
</ul>
<pre><code class="language-raku" data-lang="raku">my @valid = &lt;foo bar baz&gt;;
my $what = 'ber';
say &quot;$what is not valid&quot; if $what eq none @valid;
say &quot;A ber or a bar&quot;     if $what eq 'ber' | 'bar';

# OUTPUT:
# ber is not valid
# A ber or a bar
</code></pre><table>
<thead>
<tr>
<th style="text-align:center">type</th>
<th style="text-align:center">constructor</th>
<th style="text-align:center">operator</th>
<th style="text-align:center">  True if &hellip; </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">all </td>
<td style="text-align:center">    all    </td>
<td style="text-align:center">    &amp;    </td>
<td style="text-align:center">  没有值为 False  </td>
</tr>
<tr>
<td style="text-align:center">any </td>
<td style="text-align:center">    any    </td>
<td style="text-align:center">    |   </td>
<td style="text-align:center"> 至少一个值为 True </td>
</tr>
<tr>
<td style="text-align:center">one </td>
<td style="text-align:center">    one    </td>
<td style="text-align:center">    ^    </td>
<td style="text-align:center">完全只有一个值为 True</td>
</tr>
<tr>
<td style="text-align:center">none</td>
<td style="text-align:center">    none    </td>
<td style="text-align:center">         </td>
<td style="text-align:center">  没有值为 True  </td>
</tr>
</tbody>
</table>
<p>最好的部分?  Junctions 是自动线程化的(autothreaded), 这意味着编译器能在多个线程上对它们进行求值!</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-0494c5bd718ac532.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="promises">Promises</h2>
<p>我不经常写并行化的代码, 但是当我写的时候, 它是这样的简单:</p>
<pre><code class="language-raku" data-lang="raku"> start { sleep 3; say &quot;two&quot; };
 say &quot;one&quot;;
 sleep 5;
 say &quot;three&quot;;

# OUTPUT:
# one
# two
# three
</code></pre><p>并发 / 异步 代码:</p>
<pre><code class="language-raku" data-lang="raku">my @promises = ^3 .map: {
    start {
        .say; sleep 1;
        $_ * 4;
    }
};
say &quot;Started! {now - INIT now}&quot;;
say await @promises;
say &quot;All done! {now - INIT now}&quot;;

# OUTPUT:
# 0
# 1
# 2
# Started! 0.0196113
# (0 4 8)
# All done! 1.0188611
</code></pre><p>Start later:</p>
<pre><code class="language-raku" data-lang="raku">Promise.in(5).then: -&gt; $v { say &quot;It's been {now - INIT now} seconds!&quot; };
sleep 7;
say &quot;Ran for {now - INIT now} seconds&quot;

# OUTPUT:
# It's been 5.031918 seconds!
# Ran for 7.0160562 seconds
</code></pre><h2 id="supplies">Supplies</h2>
<p>异步数据流:</p>
<pre><code class="language-raku" data-lang="raku">my $supplier = Supplier.new;

$supplier.Supply              .tap: -&gt; $v { say &quot;Original: $v&quot; };
$supplier.Supply.map(  * × 2 ).tap: -&gt; $v { say &quot;  Double: $v&quot; };
$supplier.Supply.grep( * % 2 ).tap: -&gt; $v { say &quot;  Odd: $v&quot;    };

$supplier.emit: $_ for ^3;

# OUTPUT:
# Original: 0
#   Double: 0
# Original: 1
#   Double: 2
#   Odd: 1
# Original: 2
#   Double: 4
</code></pre><p>Events at interval inside an event loop (<code>react</code>):</p>
<pre><code class="language-raku" data-lang="raku">react {
    whenever Supply.interval: 2 -&gt; $v {
        say &quot;$v: {now - INIT now}&quot;;
        done if $v == 2;
    }
    whenever Supply.interval: 1 -&gt; $v { say &quot;  1 sec: {now - INIT now}&quot;; }
}

 # OUTPUT:
 # 0: 0.026734
 #   1 sec: 0.0333274
 #   1 sec: 1.02325708
 # 1: 2.027192
 #   1 sec: 2.0276854
 #   1 sec: 3.0234109
 # 2: 4.0324349
</code></pre><h2 id="channels">Channels</h2>
<p>一个线程安全的队列:</p>
<pre><code class="language-raku" data-lang="raku">my $c = Channel.new;
start {
    loop { say &quot;$c.receive() at {now - INIT now}&quot; }
}
await ^10 .map: -&gt; $r {
    start {
         sleep $r;
         $c.send: $r;
    }
}
$c.close;

# OUTPUT:
# 0 at 0.01036314
# 1 at 1.0152853
# 2 at 2.0174991
# 3 at 3.020067105
</code></pre><h2 id="grammars">Grammars</h2>
<p>更容易的解析东西的方式。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-efdc5ad20795b4dd.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<pre><code class="language-raku" data-lang="raku">grammar MyGrammar {
    token TOP     { &lt;sign&gt; &lt;digits&gt; &lt;decimal&gt;? }
    token sign    { &lt;[+-]&gt;?                    }
    token digits  { \d+                        }
    token decimal { \. &lt;digits&gt;                }
 }

say MyGrammar.parse: '250.42';

# OUTPUT:
# ｢250.42｣
#  sign =&gt; ｢｣
#  digits =&gt; ｢250｣
#  decimal =&gt; ｢.42｣
#   digits =&gt; ｢42｣
</code></pre><p>actions:</p>
<pre><code class="language-raku" data-lang="raku">grammar MyGrammar {
    token TOP     { &lt;sign&gt; &lt;digits&gt; &lt;decimal&gt;? }
    token sign    { &lt;[+-]&gt;?                    }
    token digits  { \d+                        }
    token decimal { \. &lt;digits&gt;                }
}

class MyActions {
    method sign ($/) { $/.make: $/.chars ?? ~$/ !! '+'                        }
    method TOP  ($/) { $/.make: $&lt;sign&gt;.made ~ ($&lt;digits&gt; + 42 ) ~ $&lt;decimal&gt; }
}

say MyGrammar.parse('250.42', actions =&gt; MyActions).made;

# OUTPUT:
# +292.42
</code></pre><h3 id="有用的模块">有用的模块:</h3>
<ul>
<li><code>Grammar::Debugger</code> 和 <code>Grammar::Tracer</code>—  使用两者之一来调试你的  grammars 的输出。</li>
<li><code>Grammar::BNF</code>— 自定地把 BNF 转换为 Raku grammars !!</li>
</ul>
<h2 id="whatever-man"><em>Whatever, man!</em></h2>
<h3 id="whatever-code-meta-operators-model6-object-model-sets-bags-and-mixes">Whatever Code, Meta operators, Model6 Object Model, Sets, bags, and mixes</h3>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-4b889b4217fec764.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<h2 id="whatever-code">Whatever Code</h2>
<p>使用 WhateverStar 作为一种快速获取一个带有参数的闭包的方式:</p>
<pre><code class="language-raku" data-lang="raku"> say (* + 2)(2);
 say &lt;1 25 3 100&gt;.grep: * &gt; 5;
 subset Primes of Int where *.is-prime;
 
 # same as
 
 say sub { $^a + 2 }(2);
 say &lt;1 25 3 100&gt;.grep: { $_ &gt; 5 };
 subset Primes of Int where { $_.is-prime };
</code></pre><p>每个 WhateverStar 代表着下一个位置参数。你不能使用 WhateverStar 引用同一个参数多于 1 次:</p>
<pre><code class="language-raku" data-lang="raku">say ( * + * + * )(2, 3, 4);

# OUTPUT:
# 9
</code></pre><p>n-at-a-time(一次 n 个) <code>.map</code> 从未像这样简单:</p>
<pre><code class="language-raku" data-lang="raku">say ^12 .map: * + * + *;

# OUTPUT:
# (3 12 21 30)
</code></pre><p>看, 整个 Fibonacci 序列存在于一个惰性列表中!</p>
<pre><code class="language-raku" data-lang="raku">my  @fibonacci = 0, 1, * + * … *;
say @fibonacci[42];

# OUTPUT:
# 267914296
</code></pre><h2 id="喂-还有-hyperwhatever"><strong>喂</strong>, <strong>还有</strong> HyperWhatever!</h2>
<p>Just sayin'&hellip;</p>
<pre><code class="language-raku" data-lang="raku">say ( ** + 2 )(^10);
say (  * + 2 )(^10);

# OUTPUT:
# (2 3 4 5 6 7 8 9 10 11)
# 2..^12
</code></pre><h2 id="meta-operators">Meta Operators</h2>
<p>和你把方括号里面的操作符放在列表中的元素之间的效果一样:</p>
<pre><code>say [+] 1, 2, 3;   # 6
say [*] 1..5;      # 120

my @numbers = (2, 4, 3);
say [&lt;] @numbers;  # False
</code></pre><p><em>Triangle Reduce</em>: 在两个相继的元素之间使用操作符, 在它的结果和下一个元素之间再次使用操作符:</p>
<pre><code>say [\+] 1, 2, 3;
say [\*] 1..5;

 # OUTPUT:
 # (1 3 6)  ## Breaking it down: 1 (1), 1 + 2 (3), 3 + 3 (6)
 # (1 2 6 24 120)
</code></pre><h2 id="raku-object-model">Raku Object Model</h2>
<pre><code class="language-raku" data-lang="raku">class Foo {
    has $.attr;
    has $.attr-rw is rw;
    has $.attr-required is required;
    has $!attr-private = 42;

    method public   { say $!attr + $!attr-private; }
    method !private { say 'secret' }
}

my $foo = Foo.new: :attr&lt;public&gt;,
                   :attr-required&lt;yup-here-it-is&gt;;

say $foo.attr;
say $foo.public;
$foo.attr-rw = 42;
</code></pre><p>你也可以指定类型约束和 subset 约束:</p>
<pre><code class="language-raku" data-lang="raku">class Foo {
    subset Primes of IntStr where *.is-prime;

    has Int    $.attr;
    has Str    $.attr-rw is rw where *.chars &lt; 5;
    has Primes $.attr-required is required;
}
</code></pre><p>Roles— 安全地为你的类添加行为:</p>
<pre><code>role Drawable {
    method draw { say &quot;Line from $.x to $.y&quot; };
}
class Line does Drawable {
    has $.x;
    has $.y;
}
my $line = Line.new: :42x, :75y;
$line.draw;

# OUTPUT:
# Line from 42 to 75
</code></pre><pre><code class="language-raku" data-lang="raku">role Drawable {
    method draw { say &quot;Line from $.x to $.y&quot; };
}
role OtherDrawable {
    method draw { say &quot;It's a draw!&quot; };
}
class Line does Drawable does OtherDrawable {
    has $.x;
    has $.y;
}
my $line = Line.new: :42x, :75y;
$line.draw;

# OUTPUT:
# ===SORRY!=== Error while compiling /home/zoffix/CPAN/TPM-2016/test.p6
# Method 'draw' must be resolved by class Line because it exists in multiple
# roles (OtherDrawable, Drawable) at /home/zoffix/CPAN/TPM-2016/test.p6:7
</code></pre><h2 id="mop-meta-object-protocol">MOP: Meta Object Protocol</h2>
<p>自省和 Raku 对象系统</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-9562eb8b97578bd9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<pre><code>#| Just 'cause
class TestStuff {};
my $x = TestStuff.new;
say $x.WHAT;     # (TestStuff)  # The type object of the type
say $x.WHICH;    # TestStuff|179689128 # The object's identity value
say $x.WHO;      # TestStuff # The package supporting the object
say $x.WHERE;    # -1225903068 # The memory address of the object (not stable)
say $x.HOW;      # Raku::Metamodel::ClassHOW.new # The metaclass object
say $x.WHY;      # Just 'cause # The attached Pod value.
say $x.DEFINITE; # True # Returns True for instances and False for type objects
</code></pre><p>为已存在的类添加方法:</p>
<pre><code>Int.^add_method('x', -&gt; $class, $v { say $v });
constant A := Metamodel::ClassHOW.new_type( name =&gt; 'A' );
A.^add_method('x', -&gt; $class, $v { say $v });
#A.^compose;

A.x: 'A class';
Int.x: 'Int class';
</code></pre><h2 id="sets-bags-and-mixes">Sets, Bags, and Mixes</h2>
<p><strong>Immutable:</strong></p>
<ul>
<li><code>Set</code>—不同对象的集合</li>
<li><code>Bag</code>—带有整数系数(权重)的不同对象的集合</li>
<li><code>Mix</code>—带有实际系数(权重)的不同对象的集合</li>
</ul>
<p><strong>Mutable:</strong></p>
<ul>
<li><code>SetHash</code>—不同对象的集合</li>
<li><code>BagHash</code>—带有整数系数(权重)的不同对象的集合</li>
<li><code>MixHash</code>—带有实际系数(权重)的不同对象的集合</li>
</ul>
<p>对东西进行计数? 一个 <code>Bag</code>  就做到了:</p>
<pre><code class="language-raku" data-lang="raku">.say for 'This is just a sentence'.comb.Bag;

# OUTPUT:
# n =&gt; 2
# a =&gt; 1
#   =&gt; 4
# c =&gt; 1
# j =&gt; 1
# s =&gt; 4
# T =&gt; 1
# e =&gt; 3
# t =&gt; 2
# i =&gt; 2
# u =&gt; 1
# h =&gt; 1
</code></pre><p>使用集合操作符写简明代码:</p>
<pre><code class="language-raku" data-lang="raku">my $valid = set &lt;foo bar ber boor&gt;;
my @given = &lt;foo meow bar ber&gt;;

say ‘Something's wrong’ unless @given ⊆ $valid;
</code></pre><p>并集和差集:</p>
<pre><code class="language-raku" data-lang="raku">say &lt;foo bar&gt; ∪ &lt;bar meow&gt;;  # Union operator
say &lt;foo bar&gt; ⊖ &lt;bar meow&gt;;  # Symmetric set difference operator

# OUTPUT:
# set(foo, bar, meow)
# set(foo, meow)
</code></pre><p>查看 <a href="http://docs.raku.org/language/setbagmix">the docs</a> 获取完整的操作符列表。</p>
<h2 id="polyglot">Polyglot</h2>
<p>在 Raku 使用其它语言!</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-5c9d882e4102b06a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="nativecall">NativeCall</h2>
<p>不用写任何 C 代码就可以使用  C libraries!!</p>
<p>(或多或少)</p>
<p>标准 C library:</p>
<pre><code class="language-raku" data-lang="raku">use NativeCall;
sub fork is native {};
fork;
say $*PID;

# OUTPUT:
# 11274
# 11275
</code></pre><h2 id="btw-a-safety-tip">BTW: A Safety Tip</h2>
<p>在标准 C 库中有一个 <code>system</code> </p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-3dece01d75627a4d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>使用 C library:</p>
<pre><code class="language-raku" data-lang="raku">class STMT is repr('CPointer') { };
sub sqlite3_column_text(STMT, int32)
    returns Str
    is native('sqlite3', v0) { };
</code></pre><pre><code>int8           (int8_t in C, also used for char)
int16          (int16_t in C, also used for short)
int32          (int32_t in C, also used for int)
int64          (int64_t in C)
uint8          (uint8_t in C, also used for unsigned char)
uint16         (uint16_t in C, also used for unsigned short)
uint32         (uint32_t in C, also used for unsigned int)
uint64         (uint64_t in C)
long           (long in C)
longlong       (long long in C, at least 64-bit)
num32          (float in C)
num64          (double in C)
Str            (C string)
CArray[int32]  (int* in C, an array of ints)
Pointer[void]  (void* in C, can point to all other types)
bool           (bool from C99)
size_t         (size_t in C)
</code></pre><p>使用 <a href="http://modules.raku.org/dist/App::GPTrixie">App::GPTrixie</a> 把 C 头文件转换为 Raku 子例程定义:</p>
<pre><code class="language-raku" data-lang="raku">$ gptrixie --all /usr/local/include/gumbo.h

## Enumerations
enum GumboNamespaceEnum is export (
   GUMBO_NAMESPACE_HTML =&gt; 0,
   GUMBO_NAMESPACE_SVG =&gt; 1,
   GUMBO_NAMESPACE_MATHML =&gt; 2
);
enum GumboParseFlags is export (
   GUMBO_INSERTION_NORMAL =&gt; 0,
   GUMBO_INSERTION_BY_PARSER =&gt; 1,

   ...
</code></pre><h2 id="inlineperl5httpmodulesrakuorgdistinlineperl5"><a href="http://modules.raku.org/dist/Inline::Perl5">Inline::Perl5</a></h2>
<p>在 Raku中使用任意 Perl 5 模块!</p>
<pre><code class="language-raku" data-lang="raku">use Inline::Perl5;
use Mojo::DOM:from&lt;Perl5&gt;;
 
my $dom = Mojo::DOM.new: '&lt;p&gt;&lt;b&gt;This is awesome&lt;/b&gt;, trust me&lt;/p&gt;';
 
say $dom.at('b').all_text;

# OUTPUT:
# This is awesome
</code></pre><ul>
<li>支持 Perl 5 模块, 包括 XS 模块。</li>
<li>允许在 Perl 5 和 Raku 之间传递整数、字符串、数组、散列、代码引用、文件句柄和对象。</li>
<li>支持从 Raku 中在 Perl 5 对象上调用方法并且支持从 Perl 5 中在 Raku 对象上调用方法。</li>
<li>在 Raku中子类化 Perl 5 的类。</li>
</ul>
<h2 id="使用一堆其它语言"><strong>使用一堆其它语言</strong>&hellip;</h2>
<p>你和我展示的可能有点不同:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-fc3ec03dfe5240f3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<h2 id="simple-thingshacking-on-the-raku-compiler">Simple Things:Hacking on the Raku Compiler</h2>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-0c0668c970b6cc1b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="听起来很疯狂"><strong>听起来很疯狂</strong>&hellip;</h2>
<p>Raku 大部分是用 Raku 写的!</p>
<h2 id="这意味着"><strong>这意味着</strong>&hellip;</h2>
<p>一般的 Raku 使用者可以使 Raku 变得更好!</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-1cb84f014ede918b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="raku-is-written-in-raku">Raku is Written in Raku</h2>
<h3 id="how">How??</h3>
<p>基础是用 NQP 写的 (Not Quite Perl):<a href="https://github.com/raku/nqp">https://github.com/raku/nqp</a></p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-28231953961eec03.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>其它的是用 Raku 写的: <a href="https://github.com/rakudo/rakudo">https://github.com/rakudo/rakudo</a></p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-7f43059cb5b74117.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h3 id="那么解析呢">那么解析呢&hellip;?</h3>
<p>是的, 仅仅是一个 Raku Grammar:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/326727-e54d22969bf5ef49.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="bonus-slides">Bonus Slides</h2>
<h2 id="并发代码中的错误"><strong>并发代码中的错误</strong></h2>
<p>错误在哪一行?</p>
<pre><code class="language-raku" data-lang="raku">my $promise = start {
    say 0/0;
    # A whole
    # bunch
    # of other code
};
 
say await $promise;

# OUTPUT:
# Attempt to divide by zero using div
#   in block &lt;unit&gt; at test.p6 line 8
</code></pre><p>包含一个花括号:</p>
<pre><code> 1: my $promise = start {
 2:     say 0/0;
 3:     # A whole
 4:     # bunch
 5:     # of other code
 6:     CATCH { warn .backtrace };
 7: };
 8:
 9: say await $promise;

# OUTPUT:
#   in block  at test.p6 line 2
#   in block  at test.p6 line 6
# Attempt to divide by zero using div
#   in block &lt;unit&gt; at test.p6 line 9
</code></pre><h2 id="有理数"><strong>有理数</strong>!</h2>
<p><code>Rat</code> 是一种 Raku 类型, 它由分子和分母表示:</p>
<pre><code>my $x = 0/0;
say 'Universe is still unimploded';
say sin $x;

# OUTPUT:
# Universe is still unimploded
# NaN
</code></pre><p>实际的数字只在需要时计算:</p>
<pre><code>my $x = 0/0;
say 'Universe is still unimploded';
say $x;

# OUTPUT:
# Universe is still unimploded
# Attempt to divide by zero using div
#   in block &lt;unit&gt; at test.p6 line 3
#
# Actually thrown at:
#   in block &lt;unit&gt; at test.p6 line 3
</code></pre><h2 id="procasynchttpdocsrakuorglanguageconcurrencyproc3a3aasync"><a href="http://docs.raku.org/language/concurrency#Proc%3A%3AAsync">Proc::Async</a></h2>
<p>Async 和其它程序通信:</p>
<pre><code>my $proc = Proc::Async.new: :w, 'grep', 'foo';
$proc.stdout.tap: -&gt; $v { print &quot;Output: $v&quot; };

say 'Starting grep process...';
my $promise = $proc.start;
    $proc.say: 'this line has foo';
    $proc.say: &quot;this one doesn't&quot;;
    $proc.close-stdin;
await $promise;
say 'Done.';

# OUTPUT:
# Starting grep process...
# Output: this line has foo
# Done.
</code></pre><h2 id="不要-say-太多"><strong>不要</strong> <code>say</code> <strong>太多</strong>!</h2>
<p><code>say</code> 函数/方法用于展示人类可读的简明信息并调用对象的 <code>gist</code> 方法。如果你想输出一大堆东西, 那么使用 <code>put</code> 函数/方法:</p>
<pre><code>^101 .say;
(0..100).list.say;
say '----------';
^101 .put;
(0..100).put;

# OUTPUT:
# ^101
# (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 ...)
# ----------
# 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100
# 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100
</code></pre><h2 id="更有用的对象"><strong>更有用的对象</strong></h2>
<p> 当使用<code>say</code>-ed, <code>put</code>-ed, 或其它任何东西时, 让你的对象更加准确地工作:</p>
<pre><code>class Thingamagig {
    method gist    { 'Brief info'        }
    method Str     { 'Not so brief info' }
    method Numeric { 42                  }
}

my $thing = Thingamagig.new;
say $thing;
put $thing;
say $thing + 2;

# OUTPUT:
# Brief info
# Not so brief info
# 44
</code></pre><h2 id="内置的性能分析器"><strong>内置的性能分析器</strong></h2>
<p>仅仅在命令行上指定 <code>--profile</code> 标记, 就会为你生成 HTML 格式的结果文件。</p>
<pre><code>$ raku --profile test.p6
</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/326727-8a66f7a51366f797.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="谢谢"><strong>谢谢</strong>!</h2>
<p>Any Questions?</p>


        
          <div class="blog-tags">
            
              <a href="https://ohmysummer.github.io//tags/%E6%83%B0%E6%80%A7%E5%88%97%E8%A1%A8/">惰性列表</a>&nbsp;
            
              <a href="https://ohmysummer.github.io//tags/junctions/">Junctions</a>&nbsp;
            
          </div>
        

        

        
          
            
          

          
                  <h4 class="see-also"></h4>
                  <ul>
                
                
                    <li><a href="/post/2015-03-22-raku%E7%9A%84%E8%96%9B%E5%AE%9A%E8%B0%94%E7%9A%84%E7%8C%AB-junctions/">Raku 的薛定谔的猫--Junctions</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://ohmysummer.github.io/post/2016-08-12-%E5%A4%A7%E5%88%97%E8%A1%A8%E9%87%8D%E6%9E%84/" data-toggle="tooltip" data-placement="top" title="大列表重构">&larr; </a>
            </li>
          
          
            <li class="next">
              <a href="https://ohmysummer.github.io/post/2016-08-31-raku-shortcuts%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86/" data-toggle="tooltip" data-placement="top" title="Raku Shortcuts(第一部分)"> &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ohmysummer" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://ohmysummer.github.io/">焉知非鱼</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2021
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://ohmysummer.github.io/">Raku Programming</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://ohmysummer.github.io/js/main.js"></script>
<script src="https://ohmysummer.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://ohmysummer.github.io/js/load-photoswipe.js"></script>



<script>
  (function() {
    var cx = '009072066163920799339:qwme9vkotxk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>







    
  </body>
</html>

