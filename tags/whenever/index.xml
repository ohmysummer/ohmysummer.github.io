<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>whenever on Raku Programming</title>
    <link>https://ohmysummer.github.io/tags/whenever/</link>
    <description>Recent content in whenever on Raku Programming</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 23 Nov 2018 16:18:07 +0800</lastBuildDate>
    
	<atom:link href="https://ohmysummer.github.io/tags/whenever/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Send-Data-to-Socket</title>
      <link>https://ohmysummer.github.io/post/2018-11-23-send-data-to-socket/</link>
      <pubDate>Fri, 23 Nov 2018 16:18:07 +0800</pubDate>
      
      <guid>https://ohmysummer.github.io/post/2018-11-23-send-data-to-socket/</guid>
      <description>发送数据到 Socket 的 3333 端口，并把所发送的数据保存到文件中。
my $vin = &amp;#39;LSJA0000000000091&amp;#39;; my $last_meter = 0; react { whenever IO::Socket::Async.listen(&amp;#39;0.0.0.0&amp;#39;, 3333) -&amp;gt; $conn { my $fh = open &amp;#39;events.txt&amp;#39;, :w; react { my Bool:D $ignore = True; whenever Supply.interval(5).rotor(1, 1 =&amp;gt; 1) { $ignore = !$ignore; } whenever Supply.interval(1) { next if $ignore; $fh.print: sprintf(&amp;#34;\{&amp;#39;vin&amp;#39;:&amp;#39;%s&amp;#39;,&amp;#39;createTime&amp;#39;:%s,&amp;#39;mileage&amp;#39;:%s}\n&amp;#34;, $vin, DateTime.now.posix, $last_meter); $conn.print: sprintf(&amp;#34;\{&amp;#39;vin&amp;#39;:&amp;#39;%s&amp;#39;,&amp;#39;createTime&amp;#39;:%s,&amp;#39;mileage&amp;#39;:%s}\n&amp;#34;, $vin, DateTime.now.posix, $last_meter++); } whenever signal(SIGINT) { say &amp;#34;Done.&amp;#34;; $fh.close; done; } } } CATCH { default { say .</description>
    </item>
    
  </channel>
</rss>